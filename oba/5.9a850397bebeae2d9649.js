(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VU6V:function(t,e,c){"use strict";c.r(e),c.d(e,"ConfigModule",(function(){return fe}));var n=c("ofXK"),i=c("3Pt+"),a=c("oRDy"),o=c("PCNd"),r=c("5dmV"),s=c("tyNb"),l=c("VBT+"),b=c("fXoL"),u=c("dJ3e");let f=(()=>{class t{constructor(t,e){this.userService=t,this.router=e,l.a.children.some(t=>!!this.userService.hasPermissions(t.code)&&(e.navigate([t.routerLink]),!0))}}return t.\u0275fac=function(e){return new(e||t)(b.Nb(u.j),b.Nb(s.b))},t.\u0275cmp=b.Hb({type:t,selectors:[["app-resolve"]],decls:2,vars:0,consts:[[1,"alerts-message","mt-15"]],template:function(t,e){1&t&&(b.Tb(0,"div",0),b.Ic(1,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),b.Sb())},encapsulation:2}),t})();var m=c("BGmy"),d=c("z5rg"),p=c("wZkO"),h=c("Wp6s"),g=c("M9IT"),v=c("+0xr"),S=c("bTqV"),T=c("Svmg"),k=c("NFeN");const I=["class","list"];function w(t,e){if(1&t&&(b.Tb(0,"a",6),b.Ic(1),b.Sb()),2&t){const t=e.$implicit,c=b.fc();b.nc("routerLink",t.routerLink)("active",c.currentCode==t.code),b.Bb(1),b.Kc(" ",t.title," ")}}function G(t,e){1&t&&(b.Tb(0,"div",7),b.Ic(1,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),b.Sb())}function C(t,e){1&t&&(b.Tb(0,"button",28),b.Ic(1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"),b.Sb())}function B(t,e){if(1&t){const t=b.Ub();b.Tb(0,"ui-input",32),b.bc("onchange",(function(){return b.wc(t),b.fc(3).onChangeFilter()}))("enterClick",(function(){return b.wc(t),b.fc(3).onChangeFilter()})),b.Sb()}if(2&t){b.fc(3);const t=b.tc(5);b.nc("suffixTpl",t)}}const F=function(t){return{title:t}};function x(t,e){if(1&t&&(b.Tb(0,"th",29),b.Tb(1,"div",30),b.Ic(2,"\u0412\u043e\u043f\u0440\u043e\u0441"),b.Sb(),b.Gc(3,B,1,1,"ui-input",31),b.Sb()),2&t){const t=b.fc(2);b.Bb(1),b.nc("ngClass",b.qc(2,F,t.visibleFilter)),b.Bb(2),b.nc("ngIf",t.visibleFilter)}}function D(t,e){if(1&t&&(b.Tb(0,"td",33),b.Ic(1),b.Sb()),2&t){const t=e.$implicit;b.Bb(1),b.Kc(" ",t.question," ")}}function A(t,e){if(1&t){const t=b.Ub();b.Tb(0,"ui-input",35),b.bc("onchange",(function(){return b.wc(t),b.fc(3).onChangeFilter()}))("enterClick",(function(){return b.wc(t),b.fc(3).onChangeFilter()})),b.Sb()}if(2&t){b.fc(3);const t=b.tc(7);b.nc("suffixTpl",t)}}function R(t,e){if(1&t&&(b.Tb(0,"th",29),b.Tb(1,"div",30),b.Ic(2,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439"),b.Sb(),b.Gc(3,A,1,1,"ui-input",34),b.Sb()),2&t){const t=b.fc(2);b.Bb(1),b.nc("ngClass",b.qc(2,F,t.visibleFilter)),b.Bb(2),b.nc("ngIf",t.visibleFilter)}}function q(t,e){if(1&t&&(b.Tb(0,"td",36),b.Ic(1),b.Sb()),2&t){const t=e.$implicit;b.Bb(1),b.Kc(" ",t.required?"\u0414\u0430":"\u041d\u0435\u0442"," ")}}function y(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",40),b.bc("click",(function(){b.wc(t);const e=b.fc(3);return e.visibleFilter=!e.visibleFilter})),b.Tb(1,"mat-icon",41),b.Ic(2,"block"),b.Sb(),b.Sb()}}function O(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",40),b.bc("click",(function(){b.wc(t);const e=b.fc(3);return e.visibleFilter=!e.visibleFilter})),b.Tb(1,"mat-icon"),b.Ic(2,"filter_list"),b.Sb(),b.Sb()}}function L(t,e){if(1&t&&(b.Tb(0,"th",37),b.Tb(1,"div",38),b.Gc(2,y,3,0,"button",39),b.Gc(3,O,3,0,"button",39),b.Sb(),b.Sb()),2&t){const t=b.fc(2);b.Bb(2),b.nc("ngIf",t.visibleFilter),b.Bb(1),b.nc("ngIf",!t.visibleFilter)}}function P(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",44),b.bc("click",(function(e){b.wc(t);const c=b.fc().$implicit;return b.fc(2).onRemoveClick(e,c)})),b.Tb(1,"mat-icon",41),b.Ic(2,"clear"),b.Sb(),b.Sb()}}function U(t,e){if(1&t&&(b.Tb(0,"td",42),b.Tb(1,"div",38),b.Gc(2,P,3,0,"button",43),b.Sb(),b.Sb()),2&t){const t=b.fc(2);b.Bb(2),b.nc("ngIf",t.deleteAvailable)}}function H(t,e){1&t&&(b.Tb(0,"td",45),b.Ic(1," \u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430. "),b.Sb())}function N(t,e){1&t&&b.Ob(0,"tr",46)}const $=function(t){return{selected:t}};function j(t,e){if(1&t){const t=b.Ub();b.Tb(0,"tr",47),b.bc("click",(function(){b.wc(t);const c=e.$implicit;return b.fc(2).onClickRow(c)})),b.Sb()}2&t&&b.nc("ngClass",b.qc(1,$,e.$implicit.selected))}function Q(t,e){1&t&&b.Ob(0,"tr",48)}const V=function(){return[]},z=function(){return["notFound"]};function W(t,e){if(1&t){const t=b.Ub();b.Tb(0,"mat-card",8),b.Tb(1,"mat-card-header"),b.Tb(2,"mat-card-title"),b.Ic(3),b.Sb(),b.Gc(4,C,2,0,"button",9),b.Sb(),b.Tb(5,"mat-card-content",10),b.Tb(6,"div",11),b.Tb(7,"h3",12),b.Ic(8,"\xa0"),b.Sb(),b.Tb(9,"mat-paginator",13),b.bc("changes",(function(){return b.wc(t),b.fc().updatePaginator}))("page",(function(e){return b.wc(t),b.fc().pageChanged(e)})),b.Sb(),b.Sb(),b.Tb(10,"table",14),b.Rb(11,15),b.Gc(12,x,4,4,"th",16),b.Gc(13,D,2,1,"td",17),b.Qb(),b.Rb(14,18),b.Gc(15,R,4,4,"th",16),b.Gc(16,q,2,1,"td",19),b.Qb(),b.Rb(17,20),b.Gc(18,L,4,2,"th",21),b.Gc(19,U,3,1,"td",22),b.Qb(),b.Rb(20,23),b.Gc(21,H,2,0,"td",24),b.Qb(),b.Gc(22,N,1,0,"tr",25),b.Gc(23,j,1,3,"tr",26),b.Gc(24,Q,1,0,"tr",27),b.Sb(),b.Sb(),b.Sb()}if(2&t){const t=b.fc();b.Bb(3),b.Jc(t.pageTitle),b.Bb(1),b.nc("ngIf",t.updateAvailable),b.Bb(1),b.nc("formGroup",t.formGroup),b.Bb(4),b.nc("length",t.total)("pageSize",t.pageSize)("hidePageSize",!0),b.Bb(1),b.nc("dataSource",t.dataSource),b.Bb(12),b.nc("matHeaderRowDef",t.displayedColumns),b.Bb(1),b.nc("matRowDefColumns",t.displayedColumns),b.Bb(1),b.nc("matFooterRowDef",t.dataSource&&t.dataSource.length?b.pc(10,V):b.pc(11,z))}}function K(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",49),b.bc("click",(function(){return b.wc(t),b.fc().clearField("question",!1)})),b.Tb(1,"mat-icon"),b.Ic(2,"highlight_off"),b.Sb(),b.Sb()}if(2&t){const t=b.fc();b.nc("disabled",""===t.formGroup.get("question").value||null===t.formGroup.get("question").value)}}function M(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",49),b.bc("click",(function(){return b.wc(t),b.fc().clearField("required",!1)})),b.Tb(1,"mat-icon"),b.Ic(2,"highlight_off"),b.Sb(),b.Sb()}if(2&t){const t=b.fc();b.nc("disabled",""===t.formGroup.get("required").value||null===t.formGroup.get("required").value)}}let J=(()=>{class t extends m.a{constructor(){super(...arguments),this.currentCode="questions",this.displayedColumns=["question","required","buttons"],this.firstBreadcrumbTitle=l.b,this.sideMenu=l.a,this.readPermission="readQuestions",this.updatePermission="updateQuestions",this.removePermission="removeQuestions",this.methodSearch="questionsSearch",this.methodRemove="questionRemove",this.askRemove="\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441?",this.baseRoute="/config/questions"}ngOnInit(){this.formGroup=new i.g({question:new d.a(""),required:new d.a("")}),super.ngOnInit()}}return t.\u0275fac=function(e){return _(e||t)},t.\u0275cmp=b.Hb({type:t,selectors:[["app-question",8,"list"]],features:[b.yb],attrs:I,decls:8,vars:3,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"routerLink","active",4,"ngFor","ngForOf"],["class","alerts-message",4,"ngIf"],["class","page-card",4,"ngIf"],["QuestionSuffixTpl",""],["RequiredSuffixTpl",""],["mat-tab-link","",3,"routerLink","active"],[1,"alerts-message"],[1,"page-card"],["mat-raised-button","","color","primary","routerLink","add",4,"ngIf"],[3,"formGroup"],[1,"flex-row"],[1,"col-flex-auto"],[1,"page-paginator",3,"length","pageSize","hidePageSize","changes","page"],["mat-table","",3,"dataSource"],["matColumnDef","question"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","required"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","buttons"],["mat-header-cell","","class","buttons-cell",4,"matHeaderCellDef"],["mat-cell","","class","buttons-cell",4,"matCellDef"],["matColumnDef","notFound"],["mat-footer-cell","","colspan","10","class","text-center text-danger",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-raised-button","","color","primary","routerLink","add"],["mat-header-cell",""],[3,"ngClass"],["formControlName","question",3,"suffixTpl","onchange","enterClick",4,"ngIf"],["formControlName","question",3,"suffixTpl","onchange","enterClick"],["mat-cell",""],["formControlName","required",3,"suffixTpl","onchange","enterClick",4,"ngIf"],["formControlName","required",3,"suffixTpl","onchange","enterClick"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"buttons-cell"],[1,"container"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["color","accent"],["mat-cell","",1,"buttons-cell"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-footer-cell","","colspan","10",1,"text-center","text-danger"],["mat-header-row",""],["mat-row","",1,"table-row",3,"ngClass","click"],["mat-footer-row",""],["mat-button","","color","accent","title","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",3,"disabled","click"]],template:function(t,e){1&t&&(b.Tb(0,"nav",0),b.Gc(1,w,2,3,"a",1),b.Sb(),b.Gc(2,G,2,0,"div",2),b.Gc(3,W,25,12,"mat-card",3),b.Gc(4,K,3,1,"ng-template",null,4,b.Hc),b.Gc(6,M,3,1,"ng-template",null,5,b.Hc)),2&t&&(b.Bb(1),b.nc("ngForOf",e.links),b.Bb(1),b.nc("ngIf",!e.permittedAction),b.Bb(1),b.nc("ngIf",e.permittedAction))},directives:[p.b,n.j,n.k,s.e,p.a,h.a,h.c,h.e,h.b,i.o,i.h,g.a,v.n,v.c,v.i,v.b,v.e,v.k,v.m,v.g,S.b,s.c,v.h,n.i,T.a,i.n,i.f,v.a,k.a,v.d,v.j,v.l,v.f],encapsulation:2}),t})();const _=b.Vb(J);var E=c("nYR2"),X=c("mhXe"),Y=c("bSwM");function Z(t,e){if(1&t&&(b.Tb(0,"a",4),b.Ic(1),b.Sb()),2&t){const t=e.$implicit,c=b.fc();b.nc("routerLink",t.routerLink)("active",c.currentCode==t.code),b.Bb(1),b.Kc(" ",t.title," ")}}function tt(t,e){1&t&&(b.Tb(0,"div",5),b.Ic(1,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),b.Sb())}function et(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",13),b.bc("click",(function(){return b.wc(t),b.fc(2).onSaveClick()})),b.Ic(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),b.Sb()}}function ct(t,e){if(1&t&&(b.Tb(0,"mat-card",6),b.Tb(1,"mat-card-header"),b.Tb(2,"mat-card-title"),b.Ic(3),b.Sb(),b.Gc(4,et,2,0,"button",7),b.Sb(),b.Tb(5,"mat-card-content",8),b.Tb(6,"div",9),b.Tb(7,"div",10),b.Ob(8,"ui-input",11),b.Sb(),b.Sb(),b.Tb(9,"div",9),b.Tb(10,"div",10),b.Tb(11,"mat-checkbox",12),b.Ic(12,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Sb()),2&t){const t=b.fc();b.Bb(3),b.Jc(t.pageTitle),b.Bb(1),b.nc("ngIf",t.updateAvailable),b.Bb(1),b.nc("formGroup",t.formGroup),b.Bb(3),b.nc("readonly",!t.updateAvailable)}}let nt=(()=>{class t extends X.a{constructor(){super(...arguments),this.currentCode="questions",this.firstBreadcrumbTitle=l.b,this.sideMenu=l.a,this.readPermission="readQuestions",this.updatePermission="updateQuestions",this.removePermission="removeQuestions"}ngOnInit(){super.ngOnInit(),this.breadcrumbs.push({title:"\u041d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441",routerLink:null}),this.formGroup=new i.g({question:new d.a("",i.s.required),required:new d.a("")}),this.updateAvailable?this.formGroup.get("required").enable():this.formGroup.get("required").disable(),this.activatedRoute.paramMap.subscribe(t=>{const e=t.get("id");this.formGroup.reset(),"add"===e?(this.currentId=null,this.pageTitle="\u041d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441",this.breadcrumbs[this.breadcrumbs.length-1].title="\u041d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441",this.permittedAction=this.updateAvailable):(this.currentId=+e,this.pageTitle=this.updateAvailable?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",this.breadcrumbs[this.breadcrumbs.length-1].title=this.updateAvailable?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",this.permittedAction=this.readAvailable||this.updateAvailable,this.loadData(this.currentId))})}onSaveClick(){this.formGroup.valid?(this.waitService.showWait("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),this.apiService.questionSave(this.currentId,this.formGroup.value).pipe(Object(E.a)(()=>this.waitService.hideWait())).subscribe(t=>{this.dialogService.showToast(this.currentId?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0448\u043b\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0448\u043b\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e","\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435","success",3e3),this.currentId?(this.formGroup.patchValue(t),this.formGroup.markAsPristine()):this.router.navigate(["/config/questions/"+t.id])},t=>{this.dialogService.showToastError(t.message.text||t.message.fulltext||t.message)})):this.formGroup.markAllAsTouched()}loadData(t){this.permittedAction&&(this.waitService.showWait("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),this.apiService.questionsLoad(t).pipe(Object(E.a)(()=>this.waitService.hideWait())).subscribe(t=>{this.formGroup.patchValue(t)},t=>{this.dialogService.showToastError(t.message.text||t.message.fulltext||t.message),this.router.navigate(["/config/questions"])}))}}return t.\u0275fac=function(e){return it(e||t)},t.\u0275cmp=b.Hb({type:t,selectors:[["app-question"]],features:[b.yb],decls:4,vars:3,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"routerLink","active",4,"ngFor","ngForOf"],["class","alerts-message",4,"ngIf"],["class","page-card",4,"ngIf"],["mat-tab-link","",3,"routerLink","active"],[1,"alerts-message"],[1,"page-card"],["mat-raised-button","","color","success",3,"click",4,"ngIf"],[3,"formGroup"],[1,"flex-row"],[1,"col-flex-auto","form-group"],["label","\u0412\u043e\u043f\u0440\u043e\u0441","formControlName","question",3,"readonly"],["formControlName","required"],["mat-raised-button","","color","success",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"nav",0),b.Gc(1,Z,2,3,"a",1),b.Sb(),b.Gc(2,tt,2,0,"div",2),b.Gc(3,ct,13,4,"mat-card",3)),2&t&&(b.Bb(1),b.nc("ngForOf",e.links),b.Bb(1),b.nc("ngIf",!e.permittedAction),b.Bb(1),b.nc("ngIf",e.permittedAction))},directives:[p.b,n.j,n.k,s.e,p.a,h.a,h.c,h.e,h.b,i.o,i.h,T.a,i.n,i.f,Y.a,S.b],encapsulation:2}),t})();const it=b.Vb(nt),at=["class","list"];function ot(t,e){if(1&t&&(b.Tb(0,"a",5),b.Ic(1),b.Sb()),2&t){const t=e.$implicit,c=b.fc();b.nc("routerLink",t.routerLink)("active",c.currentCode==t.code),b.Bb(1),b.Kc(" ",t.title," ")}}function rt(t,e){1&t&&(b.Tb(0,"div",6),b.Ic(1,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),b.Sb())}function st(t,e){1&t&&(b.Tb(0,"button",25),b.Ic(1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),b.Sb())}function lt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"ui-input",29),b.bc("onchange",(function(){return b.wc(t),b.fc(3).onChangeFilter()}))("enterClick",(function(){return b.wc(t),b.fc(3).onChangeFilter()})),b.Sb()}if(2&t){b.fc(3);const t=b.tc(5);b.nc("suffixTpl",t)}}const bt=function(t){return{title:t}};function ut(t,e){if(1&t&&(b.Tb(0,"th",26),b.Tb(1,"div",27),b.Ic(2,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),b.Sb(),b.Gc(3,lt,1,1,"ui-input",28),b.Sb()),2&t){const t=b.fc(2);b.Bb(1),b.nc("ngClass",b.qc(2,bt,t.visibleFilter)),b.Bb(2),b.nc("ngIf",t.visibleFilter)}}function ft(t,e){if(1&t&&(b.Tb(0,"td",30),b.Ic(1),b.Sb()),2&t){const t=e.$implicit;b.Bb(1),b.Kc(" ",t.name," ")}}function mt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",34),b.bc("click",(function(){b.wc(t);const e=b.fc(3);return e.visibleFilter=!e.visibleFilter})),b.Tb(1,"mat-icon",35),b.Ic(2,"block"),b.Sb(),b.Sb()}}function dt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",34),b.bc("click",(function(){b.wc(t);const e=b.fc(3);return e.visibleFilter=!e.visibleFilter})),b.Tb(1,"mat-icon"),b.Ic(2,"filter_list"),b.Sb(),b.Sb()}}function pt(t,e){if(1&t&&(b.Tb(0,"th",31),b.Tb(1,"div",32),b.Gc(2,mt,3,0,"button",33),b.Gc(3,dt,3,0,"button",33),b.Sb(),b.Sb()),2&t){const t=b.fc(2);b.Bb(2),b.nc("ngIf",t.visibleFilter),b.Bb(1),b.nc("ngIf",!t.visibleFilter)}}function ht(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",38),b.bc("click",(function(e){b.wc(t);const c=b.fc().$implicit;return b.fc(2).onRemoveClick(e,c)})),b.Tb(1,"mat-icon",35),b.Ic(2,"clear"),b.Sb(),b.Sb()}}function gt(t,e){if(1&t&&(b.Tb(0,"td",36),b.Tb(1,"div",32),b.Gc(2,ht,3,0,"button",37),b.Sb(),b.Sb()),2&t){const t=b.fc(2);b.Bb(2),b.nc("ngIf",t.deleteAvailable)}}function vt(t,e){1&t&&(b.Tb(0,"td",39),b.Ic(1," \u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430. "),b.Sb())}function St(t,e){1&t&&b.Ob(0,"tr",40)}const Tt=function(t){return{selected:t}};function kt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"tr",41),b.bc("click",(function(){b.wc(t);const c=e.$implicit;return b.fc(2).onClickRow(c)})),b.Sb()}2&t&&b.nc("ngClass",b.qc(1,Tt,e.$implicit.selected))}function It(t,e){1&t&&b.Ob(0,"tr",42)}const wt=function(){return[]},Gt=function(){return["notFound"]};function Ct(t,e){if(1&t){const t=b.Ub();b.Tb(0,"mat-card",7),b.Tb(1,"mat-card-header"),b.Tb(2,"mat-card-title"),b.Ic(3),b.Sb(),b.Gc(4,st,2,0,"button",8),b.Sb(),b.Tb(5,"mat-card-content",9),b.Tb(6,"div",10),b.Tb(7,"h3",11),b.Ic(8,"\xa0"),b.Sb(),b.Tb(9,"mat-paginator",12),b.bc("changes",(function(){return b.wc(t),b.fc().updatePaginator}))("page",(function(e){return b.wc(t),b.fc().pageChanged(e)})),b.Sb(),b.Sb(),b.Tb(10,"table",13),b.Rb(11,14),b.Gc(12,ut,4,4,"th",15),b.Gc(13,ft,2,1,"td",16),b.Qb(),b.Rb(14,17),b.Gc(15,pt,4,2,"th",18),b.Gc(16,gt,3,1,"td",19),b.Qb(),b.Rb(17,20),b.Gc(18,vt,2,0,"td",21),b.Qb(),b.Gc(19,St,1,0,"tr",22),b.Gc(20,kt,1,3,"tr",23),b.Gc(21,It,1,0,"tr",24),b.Sb(),b.Sb(),b.Sb()}if(2&t){const t=b.fc();b.Bb(3),b.Jc(t.pageTitle),b.Bb(1),b.nc("ngIf",t.updateAvailable),b.Bb(1),b.nc("formGroup",t.formGroup),b.Bb(4),b.nc("length",t.total)("pageSize",t.pageSize)("hidePageSize",!0),b.Bb(1),b.nc("dataSource",t.dataSource),b.Bb(9),b.nc("matHeaderRowDef",t.displayedColumns),b.Bb(1),b.nc("matRowDefColumns",t.displayedColumns),b.Bb(1),b.nc("matFooterRowDef",t.dataSource&&t.dataSource.length?b.pc(10,wt):b.pc(11,Gt))}}function Bt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",43),b.bc("click",(function(){return b.wc(t),b.fc().clearField("name",!1)})),b.Tb(1,"mat-icon"),b.Ic(2,"highlight_off"),b.Sb(),b.Sb()}if(2&t){const t=b.fc();b.nc("disabled",""===t.formGroup.get("name").value||null===t.formGroup.get("name").value)}}let Ft=(()=>{class t extends m.a{constructor(){super(...arguments),this.currentCode="docs",this.displayedColumns=["name","buttons"],this.firstBreadcrumbTitle=l.b,this.sideMenu=l.a,this.readPermission="readDocs",this.updatePermission="updateDocs",this.removePermission="removeDocs",this.methodSearch="docsSearch",this.methodRemove="docsRemove",this.askRemove="\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442?",this.baseRoute="/config/docs"}ngOnInit(){this.formGroup=new i.g({name:new d.a("")}),super.ngOnInit()}}return t.\u0275fac=function(e){return xt(e||t)},t.\u0275cmp=b.Hb({type:t,selectors:[["app-docs",8,"list"]],features:[b.yb],attrs:at,decls:6,vars:3,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"routerLink","active",4,"ngFor","ngForOf"],["class","alerts-message",4,"ngIf"],["class","page-card",4,"ngIf"],["NameSuffixTpl",""],["mat-tab-link","",3,"routerLink","active"],[1,"alerts-message"],[1,"page-card"],["mat-raised-button","","color","primary","routerLink","add",4,"ngIf"],[3,"formGroup"],[1,"flex-row"],[1,"col-flex-auto"],[1,"page-paginator",3,"length","pageSize","hidePageSize","changes","page"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","buttons"],["mat-header-cell","","class","buttons-cell",4,"matHeaderCellDef"],["mat-cell","","class","buttons-cell",4,"matCellDef"],["matColumnDef","notFound"],["mat-footer-cell","","colspan","10","class","text-center text-danger",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-raised-button","","color","primary","routerLink","add"],["mat-header-cell",""],[3,"ngClass"],["formControlName","name",3,"suffixTpl","onchange","enterClick",4,"ngIf"],["formControlName","name",3,"suffixTpl","onchange","enterClick"],["mat-cell",""],["mat-header-cell","",1,"buttons-cell"],[1,"container"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["color","accent"],["mat-cell","",1,"buttons-cell"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-footer-cell","","colspan","10",1,"text-center","text-danger"],["mat-header-row",""],["mat-row","",1,"table-row",3,"ngClass","click"],["mat-footer-row",""],["mat-button","","color","accent","title","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",3,"disabled","click"]],template:function(t,e){1&t&&(b.Tb(0,"nav",0),b.Gc(1,ot,2,3,"a",1),b.Sb(),b.Gc(2,rt,2,0,"div",2),b.Gc(3,Ct,22,12,"mat-card",3),b.Gc(4,Bt,3,1,"ng-template",null,4,b.Hc)),2&t&&(b.Bb(1),b.nc("ngForOf",e.links),b.Bb(1),b.nc("ngIf",!e.permittedAction),b.Bb(1),b.nc("ngIf",e.permittedAction))},directives:[p.b,n.j,n.k,s.e,p.a,h.a,h.c,h.e,h.b,i.o,i.h,g.a,v.n,v.c,v.i,v.b,v.e,v.k,v.m,v.g,S.b,s.c,v.h,n.i,T.a,i.n,i.f,v.a,k.a,v.d,v.j,v.l,v.f],encapsulation:2}),t})();const xt=b.Vb(Ft);function Dt(t,e){if(1&t&&(b.Tb(0,"a",4),b.Ic(1),b.Sb()),2&t){const t=e.$implicit,c=b.fc();b.nc("routerLink",t.routerLink)("active",c.currentCode==t.code),b.Bb(1),b.Kc(" ",t.title," ")}}function At(t,e){1&t&&(b.Tb(0,"div",5),b.Ic(1,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),b.Sb())}function Rt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",12),b.bc("click",(function(){return b.wc(t),b.fc(2).onSaveClick()})),b.Ic(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),b.Sb()}}function qt(t,e){if(1&t&&(b.Tb(0,"mat-card",6),b.Tb(1,"mat-card-header"),b.Tb(2,"mat-card-title"),b.Ic(3),b.Sb(),b.Gc(4,Rt,2,0,"button",7),b.Sb(),b.Tb(5,"mat-card-content",8),b.Tb(6,"div",9),b.Tb(7,"div",10),b.Ob(8,"ui-input",11),b.Sb(),b.Sb(),b.Sb(),b.Sb()),2&t){const t=b.fc();b.Bb(3),b.Jc(t.pageTitle),b.Bb(1),b.nc("ngIf",t.updateAvailable),b.Bb(1),b.nc("formGroup",t.formGroup),b.Bb(3),b.nc("readonly",!t.updateAvailable)}}let yt=(()=>{class t extends X.a{constructor(){super(...arguments),this.currentCode="docs",this.firstBreadcrumbTitle=l.b,this.sideMenu=l.a,this.readPermission="readDocs",this.updatePermission="updateDocs",this.removePermission="removeDocs"}ngOnInit(){super.ngOnInit(),this.breadcrumbs.push({title:"\u041d\u043e\u0432\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",routerLink:null}),this.formGroup=new i.g({name:new d.a("",i.s.required)}),this.activatedRoute.paramMap.subscribe(t=>{const e=t.get("id");this.formGroup.reset(),"add"===e?(this.currentId=null,this.pageTitle="\u041d\u043e\u0432\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",this.breadcrumbs[this.breadcrumbs.length-1].title="\u041d\u043e\u0432\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",this.permittedAction=this.updateAvailable):(this.currentId=+e,this.pageTitle=this.updateAvailable?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",this.breadcrumbs[this.breadcrumbs.length-1].title=this.updateAvailable?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",this.permittedAction=this.readAvailable||this.updateAvailable,this.loadData(this.currentId))})}onSaveClick(){this.formGroup.valid?(this.waitService.showWait("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),this.apiService.docsSave(this.currentId,this.formGroup.value).pipe(Object(E.a)(()=>this.waitService.hideWait())).subscribe(t=>{this.dialogService.showToast(this.currentId?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u043e\u0448\u043b\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u043e\u0448\u043b\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e","\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435","success",3e3),this.currentId?(this.formGroup.patchValue(t),this.formGroup.markAsPristine()):this.router.navigate(["/config/docs/"+t.id])},t=>{this.dialogService.showToastError(t.message.text||t.message.fulltext||t.message)})):this.formGroup.markAllAsTouched()}loadData(t){this.permittedAction&&(this.waitService.showWait("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),this.apiService.docsLoad(t).pipe(Object(E.a)(()=>this.waitService.hideWait())).subscribe(t=>{this.formGroup.patchValue(t)},t=>{this.dialogService.showToastError(t.message.text||t.message.fulltext||t.message),this.router.navigate(["/config/docs"])}))}}return t.\u0275fac=function(e){return Ot(e||t)},t.\u0275cmp=b.Hb({type:t,selectors:[["app-doc"]],features:[b.yb],decls:4,vars:3,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"routerLink","active",4,"ngFor","ngForOf"],["class","alerts-message",4,"ngIf"],["class","page-card",4,"ngIf"],["mat-tab-link","",3,"routerLink","active"],[1,"alerts-message"],[1,"page-card"],["mat-raised-button","","color","success",3,"click",4,"ngIf"],[3,"formGroup"],[1,"flex-row"],[1,"col-flex-auto","form-group"],["label","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","formControlName","name",3,"readonly"],["mat-raised-button","","color","success",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"nav",0),b.Gc(1,Dt,2,3,"a",1),b.Sb(),b.Gc(2,At,2,0,"div",2),b.Gc(3,qt,9,4,"mat-card",3)),2&t&&(b.Bb(1),b.nc("ngForOf",e.links),b.Bb(1),b.nc("ngIf",!e.permittedAction),b.Bb(1),b.nc("ngIf",e.permittedAction))},directives:[p.b,n.j,n.k,s.e,p.a,h.a,h.c,h.e,h.b,i.o,i.h,T.a,i.n,i.f,S.b],encapsulation:2}),t})();const Ot=b.Vb(yt),Lt=["class","list"];function Pt(t,e){if(1&t&&(b.Tb(0,"a",5),b.Ic(1),b.Sb()),2&t){const t=e.$implicit,c=b.fc();b.nc("routerLink",t.routerLink)("active",c.currentCode==t.code),b.Bb(1),b.Kc(" ",t.title," ")}}function Ut(t,e){1&t&&(b.Tb(0,"div",6),b.Ic(1,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),b.Sb())}function Ht(t,e){1&t&&(b.Tb(0,"button",25),b.Ic(1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f \u043f\u0443\u0442\u0435\u0432\u043a\u0438"),b.Sb())}function Nt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"ui-input",29),b.bc("onchange",(function(){return b.wc(t),b.fc(3).onChangeFilter()}))("enterClick",(function(){return b.wc(t),b.fc(3).onChangeFilter()})),b.Sb()}if(2&t){b.fc(3);const t=b.tc(5);b.nc("suffixTpl",t)}}const $t=function(t){return{title:t}};function jt(t,e){if(1&t&&(b.Tb(0,"th",26),b.Tb(1,"div",27),b.Ic(2,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),b.Sb(),b.Gc(3,Nt,1,1,"ui-input",28),b.Sb()),2&t){const t=b.fc(2);b.Bb(1),b.nc("ngClass",b.qc(2,$t,t.visibleFilter)),b.Bb(2),b.nc("ngIf",t.visibleFilter)}}function Qt(t,e){if(1&t&&(b.Tb(0,"td",30),b.Ic(1),b.Sb()),2&t){const t=e.$implicit;b.Bb(1),b.Kc(" ",t.name," ")}}function Vt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",34),b.bc("click",(function(){b.wc(t);const e=b.fc(3);return e.visibleFilter=!e.visibleFilter})),b.Tb(1,"mat-icon",35),b.Ic(2,"block"),b.Sb(),b.Sb()}}function zt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",34),b.bc("click",(function(){b.wc(t);const e=b.fc(3);return e.visibleFilter=!e.visibleFilter})),b.Tb(1,"mat-icon"),b.Ic(2,"filter_list"),b.Sb(),b.Sb()}}function Wt(t,e){if(1&t&&(b.Tb(0,"th",31),b.Tb(1,"div",32),b.Gc(2,Vt,3,0,"button",33),b.Gc(3,zt,3,0,"button",33),b.Sb(),b.Sb()),2&t){const t=b.fc(2);b.Bb(2),b.nc("ngIf",t.visibleFilter),b.Bb(1),b.nc("ngIf",!t.visibleFilter)}}function Kt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",38),b.bc("click",(function(e){b.wc(t);const c=b.fc().$implicit;return b.fc(2).onRemoveClick(e,c)})),b.Tb(1,"mat-icon",35),b.Ic(2,"clear"),b.Sb(),b.Sb()}}function Mt(t,e){if(1&t&&(b.Tb(0,"td",36),b.Tb(1,"div",32),b.Gc(2,Kt,3,0,"button",37),b.Sb(),b.Sb()),2&t){const t=b.fc(2);b.Bb(2),b.nc("ngIf",t.deleteAvailable)}}function Jt(t,e){1&t&&(b.Tb(0,"td",39),b.Ic(1," \u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430. "),b.Sb())}function _t(t,e){1&t&&b.Ob(0,"tr",40)}const Et=function(t){return{selected:t}};function Xt(t,e){if(1&t){const t=b.Ub();b.Tb(0,"tr",41),b.bc("click",(function(){b.wc(t);const c=e.$implicit;return b.fc(2).onClickRow(c)})),b.Sb()}2&t&&b.nc("ngClass",b.qc(1,Et,e.$implicit.selected))}function Yt(t,e){1&t&&b.Ob(0,"tr",42)}const Zt=function(){return[]},te=function(){return["notFound"]};function ee(t,e){if(1&t){const t=b.Ub();b.Tb(0,"mat-card",7),b.Tb(1,"mat-card-header"),b.Tb(2,"mat-card-title"),b.Ic(3),b.Sb(),b.Gc(4,Ht,2,0,"button",8),b.Sb(),b.Tb(5,"mat-card-content",9),b.Tb(6,"div",10),b.Tb(7,"h3",11),b.Ic(8,"\xa0"),b.Sb(),b.Tb(9,"mat-paginator",12),b.bc("changes",(function(){return b.wc(t),b.fc().updatePaginator}))("page",(function(e){return b.wc(t),b.fc().pageChanged(e)})),b.Sb(),b.Sb(),b.Tb(10,"table",13),b.Rb(11,14),b.Gc(12,jt,4,4,"th",15),b.Gc(13,Qt,2,1,"td",16),b.Qb(),b.Rb(14,17),b.Gc(15,Wt,4,2,"th",18),b.Gc(16,Mt,3,1,"td",19),b.Qb(),b.Rb(17,20),b.Gc(18,Jt,2,0,"td",21),b.Qb(),b.Gc(19,_t,1,0,"tr",22),b.Gc(20,Xt,1,3,"tr",23),b.Gc(21,Yt,1,0,"tr",24),b.Sb(),b.Sb(),b.Sb()}if(2&t){const t=b.fc();b.Bb(3),b.Jc(t.pageTitle),b.Bb(1),b.nc("ngIf",t.updateAvailable),b.Bb(1),b.nc("formGroup",t.formGroup),b.Bb(4),b.nc("length",t.total)("pageSize",t.pageSize)("hidePageSize",!0),b.Bb(1),b.nc("dataSource",t.dataSource),b.Bb(9),b.nc("matHeaderRowDef",t.displayedColumns),b.Bb(1),b.nc("matRowDefColumns",t.displayedColumns),b.Bb(1),b.nc("matFooterRowDef",t.dataSource&&t.dataSource.length?b.pc(10,Zt):b.pc(11,te))}}function ce(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",43),b.bc("click",(function(){return b.wc(t),b.fc().clearField("name",!1)})),b.Tb(1,"mat-icon"),b.Ic(2,"highlight_off"),b.Sb(),b.Sb()}if(2&t){const t=b.fc();b.nc("disabled",""===t.formGroup.get("name").value||null===t.formGroup.get("name").value)}}let ne=(()=>{class t extends m.a{constructor(){super(...arguments),this.currentCode="tours",this.displayedColumns=["name","buttons"],this.firstBreadcrumbTitle=l.b,this.sideMenu=l.a,this.readPermission="readTours",this.updatePermission="updateTours",this.removePermission="removeTours",this.methodSearch="toursSearch",this.methodRemove="toursRemove",this.askRemove="\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0442\u0438\u043f \u043f\u0443\u0442\u0435\u0432\u043a\u0438?",this.baseRoute="/config/tours"}ngOnInit(){this.formGroup=new i.g({name:new d.a("")}),super.ngOnInit()}}return t.\u0275fac=function(e){return ie(e||t)},t.\u0275cmp=b.Hb({type:t,selectors:[["app-tours",8,"list"]],features:[b.yb],attrs:Lt,decls:6,vars:3,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"routerLink","active",4,"ngFor","ngForOf"],["class","alerts-message",4,"ngIf"],["class","page-card",4,"ngIf"],["NameSuffixTpl",""],["mat-tab-link","",3,"routerLink","active"],[1,"alerts-message"],[1,"page-card"],["mat-raised-button","","color","primary","routerLink","add",4,"ngIf"],[3,"formGroup"],[1,"flex-row"],[1,"col-flex-auto"],[1,"page-paginator",3,"length","pageSize","hidePageSize","changes","page"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","buttons"],["mat-header-cell","","class","buttons-cell",4,"matHeaderCellDef"],["mat-cell","","class","buttons-cell",4,"matCellDef"],["matColumnDef","notFound"],["mat-footer-cell","","colspan","10","class","text-center text-danger",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-raised-button","","color","primary","routerLink","add"],["mat-header-cell",""],[3,"ngClass"],["formControlName","name",3,"suffixTpl","onchange","enterClick",4,"ngIf"],["formControlName","name",3,"suffixTpl","onchange","enterClick"],["mat-cell",""],["mat-header-cell","",1,"buttons-cell"],[1,"container"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["color","accent"],["mat-cell","",1,"buttons-cell"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-footer-cell","","colspan","10",1,"text-center","text-danger"],["mat-header-row",""],["mat-row","",1,"table-row",3,"ngClass","click"],["mat-footer-row",""],["mat-button","","color","accent","title","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",3,"disabled","click"]],template:function(t,e){1&t&&(b.Tb(0,"nav",0),b.Gc(1,Pt,2,3,"a",1),b.Sb(),b.Gc(2,Ut,2,0,"div",2),b.Gc(3,ee,22,12,"mat-card",3),b.Gc(4,ce,3,1,"ng-template",null,4,b.Hc)),2&t&&(b.Bb(1),b.nc("ngForOf",e.links),b.Bb(1),b.nc("ngIf",!e.permittedAction),b.Bb(1),b.nc("ngIf",e.permittedAction))},directives:[p.b,n.j,n.k,s.e,p.a,h.a,h.c,h.e,h.b,i.o,i.h,g.a,v.n,v.c,v.i,v.b,v.e,v.k,v.m,v.g,S.b,s.c,v.h,n.i,T.a,i.n,i.f,v.a,k.a,v.d,v.j,v.l,v.f],encapsulation:2}),t})();const ie=b.Vb(ne);function ae(t,e){if(1&t&&(b.Tb(0,"a",4),b.Ic(1),b.Sb()),2&t){const t=e.$implicit,c=b.fc();b.nc("routerLink",t.routerLink)("active",c.currentCode==t.code),b.Bb(1),b.Kc(" ",t.title," ")}}function oe(t,e){1&t&&(b.Tb(0,"div",5),b.Ic(1,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),b.Sb())}function re(t,e){if(1&t){const t=b.Ub();b.Tb(0,"button",12),b.bc("click",(function(){return b.wc(t),b.fc(2).onSaveClick()})),b.Ic(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),b.Sb()}}function se(t,e){if(1&t&&(b.Tb(0,"mat-card",6),b.Tb(1,"mat-card-header"),b.Tb(2,"mat-card-title"),b.Ic(3),b.Sb(),b.Gc(4,re,2,0,"button",7),b.Sb(),b.Tb(5,"mat-card-content",8),b.Tb(6,"div",9),b.Tb(7,"div",10),b.Ob(8,"ui-input",11),b.Sb(),b.Sb(),b.Sb(),b.Sb()),2&t){const t=b.fc();b.Bb(3),b.Jc(t.pageTitle),b.Bb(1),b.nc("ngIf",t.updateAvailable),b.Bb(1),b.nc("formGroup",t.formGroup),b.Bb(3),b.nc("readonly",!t.updateAvailable)}}let le=(()=>{class t extends X.a{constructor(){super(...arguments),this.currentCode="tours",this.firstBreadcrumbTitle=l.b,this.sideMenu=l.a,this.readPermission="readTours",this.updatePermission="updateTours",this.removePermission="removeTours"}ngOnInit(){super.ngOnInit(),this.breadcrumbs.push({title:"\u041d\u043e\u0432\u044b\u0439 \u0442\u0438\u043f \u043f\u0443\u0442\u0435\u0432\u043a\u0438",routerLink:null}),this.formGroup=new i.g({name:new d.a("",i.s.required)}),this.activatedRoute.paramMap.subscribe(t=>{const e=t.get("id");this.formGroup.reset(),"add"===e?(this.currentId=null,this.pageTitle="\u041d\u043e\u0432\u044b\u0439 \u0442\u0438\u043f \u043f\u0443\u0442\u0435\u0432\u043a\u0438",this.breadcrumbs[this.breadcrumbs.length-1].title="\u041d\u043e\u0432\u044b\u0439 \u0442\u0438\u043f \u043f\u0443\u0442\u0435\u0432\u043a\u0438",this.permittedAction=this.updateAvailable):(this.currentId=+e,this.pageTitle=this.updateAvailable?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u043f\u0443\u0442\u0435\u0432\u043a\u0438":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0438\u043f\u0430 \u043f\u0443\u0442\u0435\u0432\u043a\u0438",this.breadcrumbs[this.breadcrumbs.length-1].title=this.updateAvailable?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u043f\u0443\u0442\u0435\u0432\u043a\u0438":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0438\u043f\u0430 \u043f\u0443\u0442\u0435\u0432\u043a\u0438",this.permittedAction=this.readAvailable||this.updateAvailable,this.loadData(this.currentId))})}onSaveClick(){this.formGroup.valid?(this.waitService.showWait("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),this.apiService.toursSave(this.currentId,this.formGroup.value).pipe(Object(E.a)(()=>this.waitService.hideWait())).subscribe(t=>{this.dialogService.showToast(this.currentId?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u043f\u0443\u0442\u0435\u0432\u043a\u0438 \u043f\u0440\u043e\u0448\u043b\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u043f\u0443\u0442\u0435\u0432\u043a\u0438 \u043f\u0440\u043e\u0448\u043b\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e","\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435","success",3e3),this.currentId?(this.formGroup.patchValue(t),this.formGroup.markAsPristine()):this.router.navigate(["/config/tours/"+t.id])},t=>{this.dialogService.showToastError(t.message.text||t.message.fulltext||t.message)})):this.formGroup.markAllAsTouched()}loadData(t){this.permittedAction&&(this.waitService.showWait("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),this.apiService.toursLoad(t).pipe(Object(E.a)(()=>this.waitService.hideWait())).subscribe(t=>{this.formGroup.patchValue(t)},t=>{this.dialogService.showToastError(t.message.text||t.message.fulltext||t.message),this.router.navigate(["/config/tours"])}))}}return t.\u0275fac=function(e){return be(e||t)},t.\u0275cmp=b.Hb({type:t,selectors:[["app-tour"]],features:[b.yb],decls:4,vars:3,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"routerLink","active",4,"ngFor","ngForOf"],["class","alerts-message",4,"ngIf"],["class","page-card",4,"ngIf"],["mat-tab-link","",3,"routerLink","active"],[1,"alerts-message"],[1,"page-card"],["mat-raised-button","","color","success",3,"click",4,"ngIf"],[3,"formGroup"],[1,"flex-row"],[1,"col-flex-auto","form-group"],["label","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","formControlName","name",3,"readonly"],["mat-raised-button","","color","success",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"nav",0),b.Gc(1,ae,2,3,"a",1),b.Sb(),b.Gc(2,oe,2,0,"div",2),b.Gc(3,se,9,4,"mat-card",3)),2&t&&(b.Bb(1),b.nc("ngForOf",e.links),b.Bb(1),b.nc("ngIf",!e.permittedAction),b.Bb(1),b.nc("ngIf",e.permittedAction))},directives:[p.b,n.j,n.k,s.e,p.a,h.a,h.c,h.e,h.b,i.o,i.h,T.a,i.n,i.f,S.b],encapsulation:2}),t})();const be=b.Vb(le),ue=s.f.forChild([{path:"",component:f},{path:"questions/:id",component:nt},{path:"questions",component:J},{path:"docs/:id",component:yt},{path:"docs",component:Ft},{path:"tours/:id",component:le},{path:"tours",component:ne}]);let fe=(()=>{class t{}return t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,i.i,i.r,ue,r.a,o.a,a.a]]}),t})()}}]);