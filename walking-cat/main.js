!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){const i=new class{constructor(){this.spriteWidth=260,this.spriteHeight=240;this.isReady=!1,this.walking=!1,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",this.spriteWidth),this.canvas.setAttribute("height",this.spriteHeight),this.canvas.style.zIndex=1e4,this.canvas.style.position="fixed",this.canvas.style.left=`${document.documentElement.clientWidth}px`,this.canvas.style.top=`${document.documentElement.clientHeight-this.spriteHeight}px`,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.texture=new Image,this.texture.src="/assets/cat.png",this.texture.addEventListener("load",()=>this.isReady=!0),this.animate=this.animate.bind(this),this.duration=100,this.frameInd=0,this.frameIndCount=10,this.walkStep=10}startWalk(){this.walking||(this.walking=!0,this.startTime=performance.now(),this.frameInd=0,this.canvas.style.left=`${document.documentElement.clientWidth}px`,this.drawSprite(this.frameInd),requestAnimationFrame(this.animate))}stopWalk(){this.walking=!1}animate(){if(performance.now()-this.startTime>this.duration){this.startTime=performance.now(),this.frameInd++,this.frameInd>=this.frameIndCount&&(this.frameInd=0),this.drawSprite(this.frameInd);let t=parseInt(this.canvas.style.left)-this.walkStep;this.canvas.style.left=`${t}px`,t<document.documentElement.clientWidth/2&&(this.walkStep=30,this.duration=50)}this.walking&&requestAnimationFrame(this.animate)}drawSprite(t){this.ctx.clearRect(0,0,this.spriteWidth,this.spriteHeight),this.ctx.drawImage(this.texture,this.spriteWidth*t,0,this.spriteWidth,this.spriteHeight,0,0,this.spriteWidth,this.spriteHeight)}};document.querySelector("#walk").addEventListener("click",()=>{const t=document.querySelector("#walk");i.walking?(t.innerHTML="Start walk",i.stopWalk()):(t.innerHTML="Stop walk",i.startWalk())})}]);
//# sourceMappingURL=main.js.map