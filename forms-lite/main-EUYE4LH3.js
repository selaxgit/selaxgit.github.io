import{a as de,b as Mr,c as qe,d as zr,e as Rr,f as Br}from"./chunk-HSAWKYNS.js";import{a as ns}from"./chunk-5HZYDEKF.js";import{B as fi,Ba as dt,Bb as qt,Ca as vt,Cb as Ve,Db as Ee,E as lt,Eb as Cr,Fb as ke,G as Rt,Ga as ur,Gb as Ar,Gc as ne,H as tr,Ha as cr,Hb as Dr,Hc as se,Ia as hr,J as Re,K as ut,Kb as xr,Kc as ae,L as er,Lc as oe,M as pt,Mc as le,N as gt,Na as tt,Nc as ue,Oa as dr,Oc as ce,P as ir,Pa as we,Q as rr,Qa as Be,Qc as It,Rc as Pr,T as nr,Ua as fr,Uc as Nr,Vc as Or,W as mi,Y as _t,Yc as Nt,Za as te,_ as sr,_a as ee,a as Kt,b as be,c as Yi,ca as Tt,d as rs,da as ar,db as ie,eb as mr,f as Xi,fa as or,fb as pr,g as Me,gb as gr,hb as _r,ia as lr,ib as yr,jd as Fr,kb as vr,kc as Lt,lb as br,lc as jt,ma as Ht,mb as Sr,md as We,na as Jt,nb as wr,o as Se,ob as Er,od as Ke,pb as Le,pd as Ir,qa as Yt,qb as je,qd as he,ra as Xt,rb as Ue,sa as pi,sb as kr,ta as Q,tb as st,ua as J,ub as At,va as yt,vc as re,wc as Ut,x as ze,xb as Tr,xc as Vt,yb as gi,za as Bt}from"./chunk-SGQHKCG3.js";var Un=rs((jn,Zi)=>{"use strict";(function(s){typeof jn=="object"&&typeof Zi<"u"?Zi.exports=s():typeof define=="function"&&define.amd?define([],s):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=s()})(function(){return function s(t,e,i){function r(l,d){if(!e[l]){if(!t[l]){var f=typeof be=="function"&&be;if(!d&&f)return f(l,!0);if(n)return n(l,!0);var _=new Error("Cannot find module '"+l+"'");throw _.code="MODULE_NOT_FOUND",_}var c=e[l]={exports:{}};t[l][0].call(c.exports,function(y){var h=t[l][1][y];return r(h||y)},c,c.exports,s,t,e,i)}return e[l].exports}for(var n=typeof be=="function"&&be,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(s,t,e){"use strict";var i=s("./utils"),r=s("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(a){for(var l,d,f,_,c,y,h,p=[],m=0,v=a.length,w=v,T=i.getTypeOf(a)!=="string";m<a.length;)w=v-m,f=T?(l=a[m++],d=m<v?a[m++]:0,m<v?a[m++]:0):(l=a.charCodeAt(m++),d=m<v?a.charCodeAt(m++):0,m<v?a.charCodeAt(m++):0),_=l>>2,c=(3&l)<<4|d>>4,y=1<w?(15&d)<<2|f>>6:64,h=2<w?63&f:64,p.push(n.charAt(_)+n.charAt(c)+n.charAt(y)+n.charAt(h));return p.join("")},e.decode=function(a){var l,d,f,_,c,y,h=0,p=0,m="data:";if(a.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===n.charAt(64)&&w--,a.charAt(a.length-2)===n.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=r.uint8array?new Uint8Array(0|w):new Array(0|w);h<a.length;)l=n.indexOf(a.charAt(h++))<<2|(_=n.indexOf(a.charAt(h++)))>>4,d=(15&_)<<4|(c=n.indexOf(a.charAt(h++)))>>2,f=(3&c)<<6|(y=n.indexOf(a.charAt(h++))),v[p++]=l,c!==64&&(v[p++]=d),y!==64&&(v[p++]=f);return v}},{"./support":30,"./utils":32}],2:[function(s,t,e){"use strict";var i=s("./external"),r=s("./stream/DataWorker"),n=s("./stream/Crc32Probe"),a=s("./stream/DataLengthProbe");function l(d,f,_,c,y){this.compressedSize=d,this.uncompressedSize=f,this.crc32=_,this.compression=c,this.compressedContent=y}l.prototype={getContentWorker:function(){var d=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(d,f,_){return d.pipe(new n).pipe(new a("uncompressedSize")).pipe(f.compressWorker(_)).pipe(new a("compressedSize")).withStreamInfo("compression",f)},t.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,t,e){"use strict";var i=s("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,t,e){"use strict";var i=s("./utils"),r=function(){for(var n,a=[],l=0;l<256;l++){n=l;for(var d=0;d<8;d++)n=1&n?3988292384^n>>>1:n>>>1;a[l]=n}return a}();t.exports=function(n,a){return n!==void 0&&n.length?i.getTypeOf(n)!=="string"?function(l,d,f,_){var c=r,y=_+f;l^=-1;for(var h=_;h<y;h++)l=l>>>8^c[255&(l^d[h])];return-1^l}(0|a,n,n.length,0):function(l,d,f,_){var c=r,y=_+f;l^=-1;for(var h=_;h<y;h++)l=l>>>8^c[255&(l^d.charCodeAt(h))];return-1^l}(0|a,n,n.length,0):0}},{"./utils":32}],5:[function(s,t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(s,t,e){"use strict";var i=null;i=typeof Promise<"u"?Promise:s("lie"),t.exports={Promise:i}},{lie:37}],7:[function(s,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=s("pako"),n=s("./utils"),a=s("./stream/GenericWorker"),l=i?"uint8array":"array";function d(f,_){a.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=_,this.meta={}}e.magic="\b\0",n.inherits(d,a),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(n.transformTo(l,f.data),!1)},d.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(_){f.push({data:_,meta:f.meta})}},e.compressWorker=function(f){return new d("Deflate",f)},e.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,t,e){"use strict";function i(c,y){var h,p="";for(h=0;h<y;h++)p+=String.fromCharCode(255&c),c>>>=8;return p}function r(c,y,h,p,m,v){var w,T,E=c.file,F=c.compression,O=v!==l.utf8encode,B=n.transformTo("string",v(E.name)),P=n.transformTo("string",l.utf8encode(E.name)),U=E.comment,Y=n.transformTo("string",v(U)),S=n.transformTo("string",l.utf8encode(U)),I=P.length!==E.name.length,u=S.length!==U.length,z="",it="",W="",L=E.dir,x=E.date,V={crc32:0,compressedSize:0,uncompressedSize:0};y&&!h||(V.crc32=c.crc32,V.compressedSize=c.compressedSize,V.uncompressedSize=c.uncompressedSize);var C=0;y&&(C|=8),O||!I&&!u||(C|=2048);var A=0,H=0;L&&(A|=16),m==="UNIX"?(H=798,A|=function(K,rt){var mt=K;return K||(mt=rt?16893:33204),(65535&mt)<<16}(E.unixPermissions,L)):(H=20,A|=function(K){return 63&(K||0)}(E.dosPermissions)),w=x.getUTCHours(),w<<=6,w|=x.getUTCMinutes(),w<<=5,w|=x.getUTCSeconds()/2,T=x.getUTCFullYear()-1980,T<<=4,T|=x.getUTCMonth()+1,T<<=5,T|=x.getUTCDate(),I&&(it=i(1,1)+i(d(B),4)+P,z+="up"+i(it.length,2)+it),u&&(W=i(1,1)+i(d(Y),4)+S,z+="uc"+i(W.length,2)+W);var Z="";return Z+=`
\0`,Z+=i(C,2),Z+=F.magic,Z+=i(w,2),Z+=i(T,2),Z+=i(V.crc32,4),Z+=i(V.compressedSize,4),Z+=i(V.uncompressedSize,4),Z+=i(B.length,2),Z+=i(z.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Z+B+z,dirRecord:f.CENTRAL_FILE_HEADER+i(H,2)+Z+i(Y.length,2)+"\0\0\0\0"+i(A,4)+i(p,4)+B+z+Y}}var n=s("../utils"),a=s("../stream/GenericWorker"),l=s("../utf8"),d=s("../crc32"),f=s("../signature");function _(c,y,h,p){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=h,this.encodeFileName=p,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(_,a),_.prototype.push=function(c){var y=c.meta.percent||0,h=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,a.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:h?(y+100*(h-p-1))/h:100}}))},_.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var y=this.streamFiles&&!c.file.dir;if(y){var h=r(c,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(c){this.accumulate=!1;var y=this.streamFiles&&!c.file.dir,h=r(c,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),y)this.push({data:function(p){return f.DATA_DESCRIPTOR+i(p.crc32,4)+i(p.compressedSize,4)+i(p.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var c=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var h=this.bytesWritten-c,p=function(m,v,w,T,E){var F=n.transformTo("string",E(T));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(m,2)+i(m,2)+i(v,4)+i(w,4)+i(F.length,2)+F}(this.dirRecords.length,h,c,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(c){this._sources.push(c);var y=this;return c.on("data",function(h){y.processChunk(h)}),c.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),c.on("error",function(h){y.error(h)}),this},_.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(c){var y=this._sources;if(!a.prototype.error.call(this,c))return!1;for(var h=0;h<y.length;h++)try{y[h].error(c)}catch{}return!0},_.prototype.lock=function(){a.prototype.lock.call(this);for(var c=this._sources,y=0;y<c.length;y++)c[y].lock()},t.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,t,e){"use strict";var i=s("../compressions"),r=s("./ZipFileWorker");e.generateWorker=function(n,a,l){var d=new r(a.streamFiles,l,a.platform,a.encodeFileName),f=0;try{n.forEach(function(_,c){f++;var y=function(v,w){var T=v||w,E=i[T];if(!E)throw new Error(T+" is not a valid compression method !");return E}(c.options.compression,a.compression),h=c.options.compressionOptions||a.compressionOptions||{},p=c.dir,m=c.date;c._compressWorker(y,h).withStreamInfo("file",{name:_,dir:p,date:m,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(_){d.error(_)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,t,e){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new i;for(var n in this)typeof this[n]!="function"&&(r[n]=this[n]);return r}}(i.prototype=s("./object")).loadAsync=s("./load"),i.support=s("./support"),i.defaults=s("./defaults"),i.version="3.10.1",i.loadAsync=function(r,n){return new i().loadAsync(r,n)},i.external=s("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,t,e){"use strict";var i=s("./utils"),r=s("./external"),n=s("./utf8"),a=s("./zipEntries"),l=s("./stream/Crc32Probe"),d=s("./nodejsUtils");function f(_){return new r.Promise(function(c,y){var h=_.decompressed.getContentWorker().pipe(new l);h.on("error",function(p){y(p)}).on("end",function(){h.streamInfo.crc32!==_.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}t.exports=function(_,c){var y=this;return c=i.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),d.isNode&&d.isStream(_)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",_,!0,c.optimizedBinaryString,c.base64).then(function(h){var p=new a(c);return p.load(h),p}).then(function(h){var p=[r.Promise.resolve(h)],m=h.files;if(c.checkCRC32)for(var v=0;v<m.length;v++)p.push(f(m[v]));return r.Promise.all(p)}).then(function(h){for(var p=h.shift(),m=p.files,v=0;v<m.length;v++){var w=m[v],T=w.fileNameStr,E=i.resolve(w.fileNameStr);y.file(E,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:c.createFolders}),w.dir||(y.file(E).unsafeOriginalName=T)}return p.zipComment.length&&(y.comment=p.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,t,e){"use strict";var i=s("../utils"),r=s("../stream/GenericWorker");function n(a,l){r.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(l)}i.inherits(n,r),n.prototype._bindStream=function(a){var l=this;(this._stream=a).pause(),a.on("data",function(d){l.push({data:d,meta:{percent:0}})}).on("error",function(d){l.isPaused?this.generatedError=d:l.error(d)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},n.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,t,e){"use strict";var i=s("readable-stream").Readable;function r(n,a,l){i.call(this,a),this._helper=n;var d=this;n.on("data",function(f,_){d.push(f)||d._helper.pause(),l&&l(_)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}s("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(s,t,e){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,r){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,r);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,r)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var r=new Buffer(i);return r.fill(0),r},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(s,t,e){"use strict";function i(E,F,O){var B,P=n.getTypeOf(F),U=n.extend(O||{},d);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(E=m(E)),U.createFolders&&(B=p(E))&&v.call(this,B,!0);var Y=P==="string"&&U.binary===!1&&U.base64===!1;O&&O.binary!==void 0||(U.binary=!Y),(F instanceof f&&F.uncompressedSize===0||U.dir||!F||F.length===0)&&(U.base64=!1,U.binary=!0,F="",U.compression="STORE",P="string");var S=null;S=F instanceof f||F instanceof a?F:y.isNode&&y.isStream(F)?new h(E,F):n.prepareContent(E,F,U.binary,U.optimizedBinaryString,U.base64);var I=new _(E,S,U);this.files[E]=I}var r=s("./utf8"),n=s("./utils"),a=s("./stream/GenericWorker"),l=s("./stream/StreamHelper"),d=s("./defaults"),f=s("./compressedObject"),_=s("./zipObject"),c=s("./generate"),y=s("./nodejsUtils"),h=s("./nodejs/NodejsStreamInputAdapter"),p=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var F=E.lastIndexOf("/");return 0<F?E.substring(0,F):""},m=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},v=function(E,F){return F=F!==void 0?F:d.createFolders,E=m(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:F}),this.files[E]};function w(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var F,O,B;for(F in this.files)B=this.files[F],(O=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&E(O,B)},filter:function(E){var F=[];return this.forEach(function(O,B){E(O,B)&&F.push(B)}),F},file:function(E,F,O){if(arguments.length!==1)return E=this.root+E,i.call(this,E,F,O),this;if(w(E)){var B=E;return this.filter(function(U,Y){return!Y.dir&&B.test(U)})}var P=this.files[this.root+E];return P&&!P.dir?P:null},folder:function(E){if(!E)return this;if(w(E))return this.filter(function(P,U){return U.dir&&E.test(P)});var F=this.root+E,O=v.call(this,F),B=this.clone();return B.root=O.name,B},remove:function(E){E=this.root+E;var F=this.files[E];if(F||(E.slice(-1)!=="/"&&(E+="/"),F=this.files[E]),F&&!F.dir)delete this.files[E];else for(var O=this.filter(function(P,U){return U.name.slice(0,E.length)===E}),B=0;B<O.length;B++)delete this.files[O[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var F,O={};try{if((O=n.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");n.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var B=O.comment||this.comment||"";F=c.generateWorker(this,O,B)}catch(P){(F=new a("error")).error(P)}return new l(F,O.type||"string",O.mimeType)},generateAsync:function(E,F){return this.generateInternalStream(E).accumulate(F)},generateNodeStream:function(E,F){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(F)}};t.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,t,e){"use strict";t.exports=s("stream")},{stream:void 0}],17:[function(s,t,e){"use strict";var i=s("./DataReader");function r(n){i.call(this,n);for(var a=0;a<this.data.length;a++)n[a]=255&n[a]}s("../utils").inherits(r,i),r.prototype.byteAt=function(n){return this.data[this.zero+n]},r.prototype.lastIndexOfSignature=function(n){for(var a=n.charCodeAt(0),l=n.charCodeAt(1),d=n.charCodeAt(2),f=n.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===a&&this.data[_+1]===l&&this.data[_+2]===d&&this.data[_+3]===f)return _-this.zero;return-1},r.prototype.readAndCheckSignature=function(n){var a=n.charCodeAt(0),l=n.charCodeAt(1),d=n.charCodeAt(2),f=n.charCodeAt(3),_=this.readData(4);return a===_[0]&&l===_[1]&&d===_[2]&&f===_[3]},r.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,a},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(s,t,e){"use strict";var i=s("../utils");function r(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var a,l=0;for(this.checkOffset(n),a=this.index+n-1;a>=this.index;a--)l=(l<<8)+this.byteAt(a);return this.index+=n,l},readString:function(n){return i.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},t.exports=r},{"../utils":32}],19:[function(s,t,e){"use strict";var i=s("./Uint8ArrayReader");function r(n){i.call(this,n)}s("../utils").inherits(r,i),r.prototype.readData=function(n){this.checkOffset(n);var a=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,a},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,t,e){"use strict";var i=s("./DataReader");function r(n){i.call(this,n)}s("../utils").inherits(r,i),r.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},r.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},r.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},r.prototype.readData=function(n){this.checkOffset(n);var a=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,a},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(s,t,e){"use strict";var i=s("./ArrayReader");function r(n){i.call(this,n)}s("../utils").inherits(r,i),r.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,a},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(s,t,e){"use strict";var i=s("../utils"),r=s("../support"),n=s("./ArrayReader"),a=s("./StringReader"),l=s("./NodeBufferReader"),d=s("./Uint8ArrayReader");t.exports=function(f){var _=i.getTypeOf(f);return i.checkSupport(_),_!=="string"||r.uint8array?_==="nodebuffer"?new l(f):r.uint8array?new d(i.transformTo("uint8array",f)):new n(i.transformTo("array",f)):new a(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,t,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,t,e){"use strict";var i=s("./GenericWorker"),r=s("../utils");function n(a){i.call(this,"ConvertWorker to "+a),this.destType=a}r.inherits(n,i),n.prototype.processChunk=function(a){this.push({data:r.transformTo(this.destType,a.data),meta:a.meta})},t.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(s,t,e){"use strict";var i=s("./GenericWorker"),r=s("../crc32");function n(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(n,i),n.prototype.processChunk=function(a){this.streamInfo.crc32=r(a.data,this.streamInfo.crc32||0),this.push(a)},t.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./GenericWorker");function n(a){r.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}i.inherits(n,r),n.prototype.processChunk=function(a){if(a){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+a.data.length}r.prototype.processChunk.call(this,a)},t.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./GenericWorker");function n(a){r.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(d){l.dataIsReady=!0,l.data=d,l.max=d&&d.length||0,l.type=i.getTypeOf(d),l.isPaused||l._tickAndRepeat()},function(d){l.error(d)})}i.inherits(n,r),n.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,l);break;case"uint8array":a=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":a=this.data.slice(this.index,l)}return this.index=l,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(s,t,e){"use strict";function i(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,n){return this._listeners[r].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,n){if(this._listeners[r])for(var a=0;a<this._listeners[r].length;a++)this._listeners[r][a].call(this,n)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var n=this;return r.on("data",function(a){n.processChunk(a)}),r.on("end",function(){n.end()}),r.on("error",function(a){n.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,n){return this.extraStreamInfo[r]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},t.exports=i},{}],29:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./ConvertWorker"),n=s("./GenericWorker"),a=s("../base64"),l=s("../support"),d=s("../external"),f=null;if(l.nodestream)try{f=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(y,h){return new d.Promise(function(p,m){var v=[],w=y._internalType,T=y._outputType,E=y._mimeType;y.on("data",function(F,O){v.push(F),h&&h(O)}).on("error",function(F){v=[],m(F)}).on("end",function(){try{var F=function(O,B,P){switch(O){case"blob":return i.newBlob(i.transformTo("arraybuffer",B),P);case"base64":return a.encode(B);default:return i.transformTo(O,B)}}(T,function(O,B){var P,U=0,Y=null,S=0;for(P=0;P<B.length;P++)S+=B[P].length;switch(O){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(Y=new Uint8Array(S),P=0;P<B.length;P++)Y.set(B[P],U),U+=B[P].length;return Y;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+O+"'")}}(w,v),E);p(F)}catch(O){m(O)}v=[]}).resume()})}function c(y,h,p){var m=h;switch(h){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=h,this._mimeType=p,i.checkSupport(m),this._worker=y.pipe(new r(m)),y.lock()}catch(v){this._worker=new n("error"),this._worker.error(v)}}c.prototype={accumulate:function(y){return _(this,y)},on:function(y,h){var p=this;return y==="data"?this._worker.on(y,function(m){h.call(p,m.data,m.meta)}):this._worker.on(y,function(){i.delay(h,arguments,p)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,t,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",e.nodebuffer=typeof Buffer<"u",e.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),e.blob=r.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!s("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(s,t,e){"use strict";for(var i=s("./utils"),r=s("./support"),n=s("./nodejsUtils"),a=s("./stream/GenericWorker"),l=new Array(256),d=0;d<256;d++)l[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;l[254]=l[254]=1;function f(){a.call(this,"utf-8 decode"),this.leftOver=null}function _(){a.call(this,"utf-8 encode")}e.utf8encode=function(c){return r.nodebuffer?n.newBufferFrom(c,"utf-8"):function(y){var h,p,m,v,w,T=y.length,E=0;for(v=0;v<T;v++)(64512&(p=y.charCodeAt(v)))==55296&&v+1<T&&(64512&(m=y.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),v++),E+=p<128?1:p<2048?2:p<65536?3:4;for(h=r.uint8array?new Uint8Array(E):new Array(E),v=w=0;w<E;v++)(64512&(p=y.charCodeAt(v)))==55296&&v+1<T&&(64512&(m=y.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),v++),p<128?h[w++]=p:(p<2048?h[w++]=192|p>>>6:(p<65536?h[w++]=224|p>>>12:(h[w++]=240|p>>>18,h[w++]=128|p>>>12&63),h[w++]=128|p>>>6&63),h[w++]=128|63&p);return h}(c)},e.utf8decode=function(c){return r.nodebuffer?i.transformTo("nodebuffer",c).toString("utf-8"):function(y){var h,p,m,v,w=y.length,T=new Array(2*w);for(h=p=0;h<w;)if((m=y[h++])<128)T[p++]=m;else if(4<(v=l[m]))T[p++]=65533,h+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&h<w;)m=m<<6|63&y[h++],v--;1<v?T[p++]=65533:m<65536?T[p++]=m:(m-=65536,T[p++]=55296|m>>10&1023,T[p++]=56320|1023&m)}return T.length!==p&&(T.subarray?T=T.subarray(0,p):T.length=p),i.applyFromCharCode(T)}(c=i.transformTo(r.uint8array?"uint8array":"array",c))},i.inherits(f,a),f.prototype.processChunk=function(c){var y=i.transformTo(r.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var h=y;(y=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),y.set(h,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var p=function(v,w){var T;for((w=w||v.length)>v.length&&(w=v.length),T=w-1;0<=T&&(192&v[T])==128;)T--;return T<0||T===0?w:T+l[v[T]]>w?T:w}(y),m=y;p!==y.length&&(r.uint8array?(m=y.subarray(0,p),this.leftOver=y.subarray(p,y.length)):(m=y.slice(0,p),this.leftOver=y.slice(p,y.length))),this.push({data:e.utf8decode(m),meta:c.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=f,i.inherits(_,a),_.prototype.processChunk=function(c){this.push({data:e.utf8encode(c.data),meta:c.meta})},e.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,t,e){"use strict";var i=s("./support"),r=s("./base64"),n=s("./nodejsUtils"),a=s("./external");function l(h){return h}function d(h,p){for(var m=0;m<h.length;++m)p[m]=255&h.charCodeAt(m);return p}s("setimmediate"),e.newBlob=function(h,p){e.checkSupport("blob");try{return new Blob([h],{type:p})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(h),m.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(h,p,m){var v=[],w=0,T=h.length;if(T<=m)return String.fromCharCode.apply(null,h);for(;w<T;)p==="array"||p==="nodebuffer"?v.push(String.fromCharCode.apply(null,h.slice(w,Math.min(w+m,T)))):v.push(String.fromCharCode.apply(null,h.subarray(w,Math.min(w+m,T)))),w+=m;return v.join("")},stringifyByChar:function(h){for(var p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);return p},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch{return!1}}()}};function _(h){var p=65536,m=e.getTypeOf(h),v=!0;if(m==="uint8array"?v=f.applyCanBeUsed.uint8array:m==="nodebuffer"&&(v=f.applyCanBeUsed.nodebuffer),v)for(;1<p;)try{return f.stringifyByChunk(h,m,p)}catch{p=Math.floor(p/2)}return f.stringifyByChar(h)}function c(h,p){for(var m=0;m<h.length;m++)p[m]=h[m];return p}e.applyFromCharCode=_;var y={};y.string={string:l,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return y.string.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:function(h){return d(h,n.allocBuffer(h.length))}},y.array={string:_,array:l,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return n.newBufferFrom(h)}},y.arraybuffer={string:function(h){return _(new Uint8Array(h))},array:function(h){return c(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:l,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return n.newBufferFrom(new Uint8Array(h))}},y.uint8array={string:_,array:function(h){return c(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:l,nodebuffer:function(h){return n.newBufferFrom(h)}},y.nodebuffer={string:_,array:function(h){return c(h,new Array(h.length))},arraybuffer:function(h){return y.nodebuffer.uint8array(h).buffer},uint8array:function(h){return c(h,new Uint8Array(h.length))},nodebuffer:l},e.transformTo=function(h,p){if(p=p||"",!h)return p;e.checkSupport(h);var m=e.getTypeOf(p);return y[m][h](p)},e.resolve=function(h){for(var p=h.split("/"),m=[],v=0;v<p.length;v++){var w=p[v];w==="."||w===""&&v!==0&&v!==p.length-1||(w===".."?m.pop():m.push(w))}return m.join("/")},e.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&n.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(h){var p,m,v="";for(m=0;m<(h||"").length;m++)v+="\\x"+((p=h.charCodeAt(m))<16?"0":"")+p.toString(16).toUpperCase();return v},e.delay=function(h,p,m){setImmediate(function(){h.apply(m||null,p||[])})},e.inherits=function(h,p){function m(){}m.prototype=p.prototype,h.prototype=new m},e.extend=function(){var h,p,m={};for(h=0;h<arguments.length;h++)for(p in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],p)&&m[p]===void 0&&(m[p]=arguments[h][p]);return m},e.prepareContent=function(h,p,m,v,w){return a.Promise.resolve(p).then(function(T){return i.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new a.Promise(function(E,F){var O=new FileReader;O.onload=function(B){E(B.target.result)},O.onerror=function(B){F(B.target.error)},O.readAsArrayBuffer(T)}):T}).then(function(T){var E=e.getTypeOf(T);return E?(E==="arraybuffer"?T=e.transformTo("uint8array",T):E==="string"&&(w?T=r.decode(T):m&&v!==!0&&(T=function(F){return d(F,i.uint8array?new Uint8Array(F.length):new Array(F.length))}(T))),T):a.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,t,e){"use strict";var i=s("./reader/readerFor"),r=s("./utils"),n=s("./signature"),a=s("./zipEntry"),l=s("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(_)+", expected "+r.pretty(f)+")")}},isSignature:function(f,_){var c=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===_;return this.reader.setIndex(c),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),_=l.uint8array?"uint8array":"array",c=r.transformTo(_,f);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,_,c,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),_=this.reader.readInt(4),c=this.reader.readData(_),this.zip64ExtensibleData[f]={id:f,length:_,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,_;for(f=0;f<this.files.length;f++)_=this.files[f],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(f=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var _=f;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var y=_-c;if(0<y)this.isSignature(_,n.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,t,e){"use strict";var i=s("./reader/readerFor"),r=s("./utils"),n=s("./compressedObject"),a=s("./crc32"),l=s("./utf8"),d=s("./compressions"),f=s("./support");function _(c,y){this.options=c,this.loadOptions=y}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var y,h;if(c.skip(22),this.fileNameLength=c.readInt(2),h=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(p){for(var m in d)if(Object.prototype.hasOwnProperty.call(d,m)&&d[m].magic===p)return d[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,y,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var y=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(y),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var y,h,p,m=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<m;)y=c.readInt(2),h=c.readInt(2),p=c.readData(h),this.extraFields[y]={id:y,length:h,value:p};c.setIndex(m)},handleUTF8:function(){var c=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var h=r.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var m=r.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var y=i(c.value);return y.readInt(1)!==1||a(this.fileName)!==y.readInt(4)?null:l.utf8decode(y.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var y=i(c.value);return y.readInt(1)!==1||a(this.fileComment)!==y.readInt(4)?null:l.utf8decode(y.readData(c.length-5))}return null}},t.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,t,e){"use strict";function i(y,h,p){this.name=y,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=h,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var r=s("./stream/StreamHelper"),n=s("./stream/DataWorker"),a=s("./utf8"),l=s("./compressedObject"),d=s("./stream/GenericWorker");i.prototype={internalStream:function(y){var h=null,p="string";try{if(!y)throw new Error("No output type specified.");var m=(p=y.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),h=this._decompressWorker();var v=!this._dataBinary;v&&!m&&(h=h.pipe(new a.Utf8EncodeWorker)),!v&&m&&(h=h.pipe(new a.Utf8DecodeWorker))}catch(w){(h=new d("error")).error(w)}return new r(h,p,"")},async:function(y,h){return this.internalStream(y).accumulate(h)},nodeStream:function(y,h){return this.internalStream(y||"nodebuffer").toNodejsStream(h)},_compressWorker:function(y,h){if(this._data instanceof l&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new a.Utf8EncodeWorker)),l.createWorkerFrom(p,y,h)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof d?this._data:new n(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<f.length;c++)i.prototype[f[c]]=_;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,t,e){(function(i){"use strict";var r,n,a=i.MutationObserver||i.WebKitMutationObserver;if(a){var l=0,d=new a(y),f=i.document.createTextNode("");d.observe(f,{characterData:!0}),r=function(){f.data=l=++l%2}}else if(i.setImmediate||i.MessageChannel===void 0)r="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var h=i.document.createElement("script");h.onreadystatechange=function(){y(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},i.document.documentElement.appendChild(h)}:function(){setTimeout(y,0)};else{var _=new i.MessageChannel;_.port1.onmessage=y,r=function(){_.port2.postMessage(0)}}var c=[];function y(){var h,p;n=!0;for(var m=c.length;m;){for(p=c,c=[],h=-1;++h<m;)p[h]();m=c.length}n=!1}t.exports=function(h){c.push(h)!==1||n||r()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,t,e){"use strict";var i=s("immediate");function r(){}var n={},a=["REJECTED"],l=["FULFILLED"],d=["PENDING"];function f(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,m!==r&&h(this,m)}function _(m,v,w){this.promise=m,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function c(m,v,w){i(function(){var T;try{T=v(w)}catch(E){return n.reject(m,E)}T===m?n.reject(m,new TypeError("Cannot resolve promise with itself")):n.resolve(m,T)})}function y(m){var v=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof v=="function")return function(){v.apply(m,arguments)}}function h(m,v){var w=!1;function T(O){w||(w=!0,n.reject(m,O))}function E(O){w||(w=!0,n.resolve(m,O))}var F=p(function(){v(E,T)});F.status==="error"&&T(F.value)}function p(m,v){var w={};try{w.value=m(v),w.status="success"}catch(T){w.status="error",w.value=T}return w}(t.exports=f).prototype.finally=function(m){if(typeof m!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(m()).then(function(){return w})},function(w){return v.resolve(m()).then(function(){throw w})})},f.prototype.catch=function(m){return this.then(null,m)},f.prototype.then=function(m,v){if(typeof m!="function"&&this.state===l||typeof v!="function"&&this.state===a)return this;var w=new this.constructor(r);return this.state!==d?c(w,this.state===l?m:v,this.outcome):this.queue.push(new _(w,m,v)),w},_.prototype.callFulfilled=function(m){n.resolve(this.promise,m)},_.prototype.otherCallFulfilled=function(m){c(this.promise,this.onFulfilled,m)},_.prototype.callRejected=function(m){n.reject(this.promise,m)},_.prototype.otherCallRejected=function(m){c(this.promise,this.onRejected,m)},n.resolve=function(m,v){var w=p(y,v);if(w.status==="error")return n.reject(m,w.value);var T=w.value;if(T)h(m,T);else{m.state=l,m.outcome=v;for(var E=-1,F=m.queue.length;++E<F;)m.queue[E].callFulfilled(v)}return m},n.reject=function(m,v){m.state=a,m.outcome=v;for(var w=-1,T=m.queue.length;++w<T;)m.queue[w].callRejected(v);return m},f.resolve=function(m){return m instanceof this?m:n.resolve(new this(r),m)},f.reject=function(m){var v=new this(r);return n.reject(v,m)},f.all=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=m.length,T=!1;if(!w)return this.resolve([]);for(var E=new Array(w),F=0,O=-1,B=new this(r);++O<w;)P(m[O],O);return B;function P(U,Y){v.resolve(U).then(function(S){E[Y]=S,++F!==w||T||(T=!0,n.resolve(B,E))},function(S){T||(T=!0,n.reject(B,S))})}},f.race=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=m.length,T=!1;if(!w)return this.resolve([]);for(var E=-1,F=new this(r);++E<w;)O=m[E],v.resolve(O).then(function(B){T||(T=!0,n.resolve(F,B))},function(B){T||(T=!0,n.reject(F,B))});var O;return F}},{immediate:36}],38:[function(s,t,e){"use strict";var i={};(0,s("./lib/utils/common").assign)(i,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,t,e){"use strict";var i=s("./zlib/deflate"),r=s("./utils/common"),n=s("./utils/strings"),a=s("./zlib/messages"),l=s("./zlib/zstream"),d=Object.prototype.toString,f=0,_=-1,c=0,y=8;function h(m){if(!(this instanceof h))return new h(m);this.options=r.assign({level:_,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},m||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==f)throw new Error(a[w]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var T;if(T=typeof v.dictionary=="string"?n.string2buf(v.dictionary):d.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=i.deflateSetDictionary(this.strm,T))!==f)throw new Error(a[w]);this._dict_set=!0}}function p(m,v){var w=new h(v);if(w.push(m,!0),w.err)throw w.msg||a[w.err];return w.result}h.prototype.push=function(m,v){var w,T,E=this.strm,F=this.options.chunkSize;if(this.ended)return!1;T=v===~~v?v:v===!0?4:0,typeof m=="string"?E.input=n.string2buf(m):d.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new r.Buf8(F),E.next_out=0,E.avail_out=F),(w=i.deflate(E,T))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(r.shrinkBuf(E.output,E.next_out))):this.onData(r.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&w!==1);return T===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):T!==2||(this.onEnd(f),!(E.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},e.Deflate=h,e.deflate=p,e.deflateRaw=function(m,v){return(v=v||{}).raw=!0,p(m,v)},e.gzip=function(m,v){return(v=v||{}).gzip=!0,p(m,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,t,e){"use strict";var i=s("./zlib/inflate"),r=s("./utils/common"),n=s("./utils/strings"),a=s("./zlib/constants"),l=s("./zlib/messages"),d=s("./zlib/zstream"),f=s("./zlib/gzheader"),_=Object.prototype.toString;function c(h){if(!(this instanceof c))return new c(h);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},h||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||h&&h.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&(15&p.windowBits)==0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var m=i.inflateInit2(this.strm,p.windowBits);if(m!==a.Z_OK)throw new Error(l[m]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function y(h,p){var m=new c(p);if(m.push(h,!0),m.err)throw m.msg||l[m.err];return m.result}c.prototype.push=function(h,p){var m,v,w,T,E,F,O=this.strm,B=this.options.chunkSize,P=this.options.dictionary,U=!1;if(this.ended)return!1;v=p===~~p?p:p===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof h=="string"?O.input=n.binstring2buf(h):_.call(h)==="[object ArrayBuffer]"?O.input=new Uint8Array(h):O.input=h,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new r.Buf8(B),O.next_out=0,O.avail_out=B),(m=i.inflate(O,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&P&&(F=typeof P=="string"?n.string2buf(P):_.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,m=i.inflateSetDictionary(this.strm,F)),m===a.Z_BUF_ERROR&&U===!0&&(m=a.Z_OK,U=!1),m!==a.Z_STREAM_END&&m!==a.Z_OK)return this.onEnd(m),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&m!==a.Z_STREAM_END&&(O.avail_in!==0||v!==a.Z_FINISH&&v!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=n.utf8border(O.output,O.next_out),T=O.next_out-w,E=n.buf2string(O.output,w),O.next_out=T,O.avail_out=B-T,T&&r.arraySet(O.output,O.output,w,T,0),this.onData(E)):this.onData(r.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(U=!0)}while((0<O.avail_in||O.avail_out===0)&&m!==a.Z_STREAM_END);return m===a.Z_STREAM_END&&(v=a.Z_FINISH),v===a.Z_FINISH?(m=i.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===a.Z_OK):v!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(O.avail_out=0))},c.prototype.onData=function(h){this.chunks.push(h)},c.prototype.onEnd=function(h){h===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},e.Inflate=c,e.inflate=y,e.inflateRaw=function(h,p){return(p=p||{}).raw=!0,y(h,p)},e.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(a){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var d=l.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f])}}return a},e.shrinkBuf=function(a,l){return a.length===l?a:a.subarray?a.subarray(0,l):(a.length=l,a)};var r={arraySet:function(a,l,d,f,_){if(l.subarray&&a.subarray)a.set(l.subarray(d,d+f),_);else for(var c=0;c<f;c++)a[_+c]=l[d+c]},flattenChunks:function(a){var l,d,f,_,c,y;for(l=f=0,d=a.length;l<d;l++)f+=a[l].length;for(y=new Uint8Array(f),l=_=0,d=a.length;l<d;l++)c=a[l],y.set(c,_),_+=c.length;return y}},n={arraySet:function(a,l,d,f,_){for(var c=0;c<f;c++)a[_+c]=l[d+c]},flattenChunks:function(a){return[].concat.apply([],a)}};e.setTyped=function(a){a?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,n))},e.setTyped(i)},{}],42:[function(s,t,e){"use strict";var i=s("./common"),r=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var a=new i.Buf8(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function d(f,_){if(_<65537&&(f.subarray&&n||!f.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(f,_));for(var c="",y=0;y<_;y++)c+=String.fromCharCode(f[y]);return c}a[254]=a[254]=1,e.string2buf=function(f){var _,c,y,h,p,m=f.length,v=0;for(h=0;h<m;h++)(64512&(c=f.charCodeAt(h)))==55296&&h+1<m&&(64512&(y=f.charCodeAt(h+1)))==56320&&(c=65536+(c-55296<<10)+(y-56320),h++),v+=c<128?1:c<2048?2:c<65536?3:4;for(_=new i.Buf8(v),h=p=0;p<v;h++)(64512&(c=f.charCodeAt(h)))==55296&&h+1<m&&(64512&(y=f.charCodeAt(h+1)))==56320&&(c=65536+(c-55296<<10)+(y-56320),h++),c<128?_[p++]=c:(c<2048?_[p++]=192|c>>>6:(c<65536?_[p++]=224|c>>>12:(_[p++]=240|c>>>18,_[p++]=128|c>>>12&63),_[p++]=128|c>>>6&63),_[p++]=128|63&c);return _},e.buf2binstring=function(f){return d(f,f.length)},e.binstring2buf=function(f){for(var _=new i.Buf8(f.length),c=0,y=_.length;c<y;c++)_[c]=f.charCodeAt(c);return _},e.buf2string=function(f,_){var c,y,h,p,m=_||f.length,v=new Array(2*m);for(c=y=0;c<m;)if((h=f[c++])<128)v[y++]=h;else if(4<(p=a[h]))v[y++]=65533,c+=p-1;else{for(h&=p===2?31:p===3?15:7;1<p&&c<m;)h=h<<6|63&f[c++],p--;1<p?v[y++]=65533:h<65536?v[y++]=h:(h-=65536,v[y++]=55296|h>>10&1023,v[y++]=56320|1023&h)}return d(v,y)},e.utf8border=function(f,_){var c;for((_=_||f.length)>f.length&&(_=f.length),c=_-1;0<=c&&(192&f[c])==128;)c--;return c<0||c===0?_:c+a[f[c]]>_?c:_}},{"./common":41}],43:[function(s,t,e){"use strict";t.exports=function(i,r,n,a){for(var l=65535&i|0,d=i>>>16&65535|0,f=0;n!==0;){for(n-=f=2e3<n?2e3:n;d=d+(l=l+r[a++]|0)|0,--f;);l%=65521,d%=65521}return l|d<<16|0}},{}],44:[function(s,t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,t,e){"use strict";var i=function(){for(var r,n=[],a=0;a<256;a++){r=a;for(var l=0;l<8;l++)r=1&r?3988292384^r>>>1:r>>>1;n[a]=r}return n}();t.exports=function(r,n,a,l){var d=i,f=l+a;r^=-1;for(var _=l;_<f;_++)r=r>>>8^d[255&(r^n[_])];return-1^r}},{}],46:[function(s,t,e){"use strict";var i,r=s("../utils/common"),n=s("./trees"),a=s("./adler32"),l=s("./crc32"),d=s("./messages"),f=0,_=4,c=0,y=-2,h=-1,p=4,m=2,v=8,w=9,T=286,E=30,F=19,O=2*T+1,B=15,P=3,U=258,Y=U+P+1,S=42,I=113,u=1,z=2,it=3,W=4;function L(o,M){return o.msg=d[M],M}function x(o){return(o<<1)-(4<o?9:0)}function V(o){for(var M=o.length;0<=--M;)o[M]=0}function C(o){var M=o.state,N=M.pending;N>o.avail_out&&(N=o.avail_out),N!==0&&(r.arraySet(o.output,M.pending_buf,M.pending_out,N,o.next_out),o.next_out+=N,M.pending_out+=N,o.total_out+=N,o.avail_out-=N,M.pending-=N,M.pending===0&&(M.pending_out=0))}function A(o,M){n._tr_flush_block(o,0<=o.block_start?o.block_start:-1,o.strstart-o.block_start,M),o.block_start=o.strstart,C(o.strm)}function H(o,M){o.pending_buf[o.pending++]=M}function Z(o,M){o.pending_buf[o.pending++]=M>>>8&255,o.pending_buf[o.pending++]=255&M}function K(o,M){var N,b,g=o.max_chain_length,k=o.strstart,R=o.prev_length,j=o.nice_match,D=o.strstart>o.w_size-Y?o.strstart-(o.w_size-Y):0,q=o.window,G=o.w_mask,$=o.prev,X=o.strstart+U,ht=q[k+R-1],ot=q[k+R];o.prev_length>=o.good_match&&(g>>=2),j>o.lookahead&&(j=o.lookahead);do if(q[(N=M)+R]===ot&&q[N+R-1]===ht&&q[N]===q[k]&&q[++N]===q[k+1]){k+=2,N++;do;while(q[++k]===q[++N]&&q[++k]===q[++N]&&q[++k]===q[++N]&&q[++k]===q[++N]&&q[++k]===q[++N]&&q[++k]===q[++N]&&q[++k]===q[++N]&&q[++k]===q[++N]&&k<X);if(b=U-(X-k),k=X-U,R<b){if(o.match_start=M,j<=(R=b))break;ht=q[k+R-1],ot=q[k+R]}}while((M=$[M&G])>D&&--g!=0);return R<=o.lookahead?R:o.lookahead}function rt(o){var M,N,b,g,k,R,j,D,q,G,$=o.w_size;do{if(g=o.window_size-o.lookahead-o.strstart,o.strstart>=$+($-Y)){for(r.arraySet(o.window,o.window,$,$,0),o.match_start-=$,o.strstart-=$,o.block_start-=$,M=N=o.hash_size;b=o.head[--M],o.head[M]=$<=b?b-$:0,--N;);for(M=N=$;b=o.prev[--M],o.prev[M]=$<=b?b-$:0,--N;);g+=$}if(o.strm.avail_in===0)break;if(R=o.strm,j=o.window,D=o.strstart+o.lookahead,q=g,G=void 0,G=R.avail_in,q<G&&(G=q),N=G===0?0:(R.avail_in-=G,r.arraySet(j,R.input,R.next_in,G,D),R.state.wrap===1?R.adler=a(R.adler,j,G,D):R.state.wrap===2&&(R.adler=l(R.adler,j,G,D)),R.next_in+=G,R.total_in+=G,G),o.lookahead+=N,o.lookahead+o.insert>=P)for(k=o.strstart-o.insert,o.ins_h=o.window[k],o.ins_h=(o.ins_h<<o.hash_shift^o.window[k+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[k+P-1])&o.hash_mask,o.prev[k&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=k,k++,o.insert--,!(o.lookahead+o.insert<P)););}while(o.lookahead<Y&&o.strm.avail_in!==0)}function mt(o,M){for(var N,b;;){if(o.lookahead<Y){if(rt(o),o.lookahead<Y&&M===f)return u;if(o.lookahead===0)break}if(N=0,o.lookahead>=P&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+P-1])&o.hash_mask,N=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),N!==0&&o.strstart-N<=o.w_size-Y&&(o.match_length=K(o,N)),o.match_length>=P)if(b=n._tr_tally(o,o.strstart-o.match_start,o.match_length-P),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=P){for(o.match_length--;o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+P-1])&o.hash_mask,N=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart,--o.match_length!=0;);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else b=n._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(b&&(A(o,!1),o.strm.avail_out===0))return u}return o.insert=o.strstart<P-1?o.strstart:P-1,M===_?(A(o,!0),o.strm.avail_out===0?it:W):o.last_lit&&(A(o,!1),o.strm.avail_out===0)?u:z}function nt(o,M){for(var N,b,g;;){if(o.lookahead<Y){if(rt(o),o.lookahead<Y&&M===f)return u;if(o.lookahead===0)break}if(N=0,o.lookahead>=P&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+P-1])&o.hash_mask,N=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=P-1,N!==0&&o.prev_length<o.max_lazy_match&&o.strstart-N<=o.w_size-Y&&(o.match_length=K(o,N),o.match_length<=5&&(o.strategy===1||o.match_length===P&&4096<o.strstart-o.match_start)&&(o.match_length=P-1)),o.prev_length>=P&&o.match_length<=o.prev_length){for(g=o.strstart+o.lookahead-P,b=n._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-P),o.lookahead-=o.prev_length-1,o.prev_length-=2;++o.strstart<=g&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+P-1])&o.hash_mask,N=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),--o.prev_length!=0;);if(o.match_available=0,o.match_length=P-1,o.strstart++,b&&(A(o,!1),o.strm.avail_out===0))return u}else if(o.match_available){if((b=n._tr_tally(o,0,o.window[o.strstart-1]))&&A(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return u}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(b=n._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<P-1?o.strstart:P-1,M===_?(A(o,!0),o.strm.avail_out===0?it:W):o.last_lit&&(A(o,!1),o.strm.avail_out===0)?u:z}function et(o,M,N,b,g){this.good_length=o,this.max_lazy=M,this.nice_length=N,this.max_chain=b,this.func=g}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*O),this.dyn_dtree=new r.Buf16(2*(2*E+1)),this.bl_tree=new r.Buf16(2*(2*F+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(B+1),this.heap=new r.Buf16(2*T+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*T+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(o){var M;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=m,(M=o.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?S:I,o.adler=M.wrap===2?0:1,M.last_flush=f,n._tr_init(M),c):L(o,y)}function bt(o){var M=at(o);return M===c&&function(N){N.window_size=2*N.w_size,V(N.head),N.max_lazy_match=i[N.level].max_lazy,N.good_match=i[N.level].good_length,N.nice_match=i[N.level].nice_length,N.max_chain_length=i[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=P-1,N.match_available=0,N.ins_h=0}(o.state),M}function St(o,M,N,b,g,k){if(!o)return y;var R=1;if(M===h&&(M=6),b<0?(R=0,b=-b):15<b&&(R=2,b-=16),g<1||w<g||N!==v||b<8||15<b||M<0||9<M||k<0||p<k)return L(o,y);b===8&&(b=9);var j=new ct;return(o.state=j).strm=o,j.wrap=R,j.gzhead=null,j.w_bits=b,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=g+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+P-1)/P),j.window=new r.Buf8(2*j.w_size),j.head=new r.Buf16(j.hash_size),j.prev=new r.Buf16(j.w_size),j.lit_bufsize=1<<g+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new r.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=M,j.strategy=k,j.method=N,bt(o)}i=[new et(0,0,0,0,function(o,M){var N=65535;for(N>o.pending_buf_size-5&&(N=o.pending_buf_size-5);;){if(o.lookahead<=1){if(rt(o),o.lookahead===0&&M===f)return u;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;var b=o.block_start+N;if((o.strstart===0||o.strstart>=b)&&(o.lookahead=o.strstart-b,o.strstart=b,A(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-Y&&(A(o,!1),o.strm.avail_out===0))return u}return o.insert=0,M===_?(A(o,!0),o.strm.avail_out===0?it:W):(o.strstart>o.block_start&&(A(o,!1),o.strm.avail_out),u)}),new et(4,4,8,4,mt),new et(4,5,16,8,mt),new et(4,6,32,32,mt),new et(4,4,16,16,nt),new et(8,16,32,32,nt),new et(8,16,128,128,nt),new et(8,32,128,256,nt),new et(32,128,258,1024,nt),new et(32,258,258,4096,nt)],e.deflateInit=function(o,M){return St(o,M,v,15,8,0)},e.deflateInit2=St,e.deflateReset=bt,e.deflateResetKeep=at,e.deflateSetHeader=function(o,M){return o&&o.state?o.state.wrap!==2?y:(o.state.gzhead=M,c):y},e.deflate=function(o,M){var N,b,g,k;if(!o||!o.state||5<M||M<0)return o?L(o,y):y;if(b=o.state,!o.output||!o.input&&o.avail_in!==0||b.status===666&&M!==_)return L(o,o.avail_out===0?-5:y);if(b.strm=o,N=b.last_flush,b.last_flush=M,b.status===S)if(b.wrap===2)o.adler=0,H(b,31),H(b,139),H(b,8),b.gzhead?(H(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),H(b,255&b.gzhead.time),H(b,b.gzhead.time>>8&255),H(b,b.gzhead.time>>16&255),H(b,b.gzhead.time>>24&255),H(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),H(b,255&b.gzhead.os),b.gzhead.extra&&b.gzhead.extra.length&&(H(b,255&b.gzhead.extra.length),H(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(o.adler=l(o.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69):(H(b,0),H(b,0),H(b,0),H(b,0),H(b,0),H(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),H(b,3),b.status=I);else{var R=v+(b.w_bits-8<<4)<<8;R|=(2<=b.strategy||b.level<2?0:b.level<6?1:b.level===6?2:3)<<6,b.strstart!==0&&(R|=32),R+=31-R%31,b.status=I,Z(b,R),b.strstart!==0&&(Z(b,o.adler>>>16),Z(b,65535&o.adler)),o.adler=1}if(b.status===69)if(b.gzhead.extra){for(g=b.pending;b.gzindex<(65535&b.gzhead.extra.length)&&(b.pending!==b.pending_buf_size||(b.gzhead.hcrc&&b.pending>g&&(o.adler=l(o.adler,b.pending_buf,b.pending-g,g)),C(o),g=b.pending,b.pending!==b.pending_buf_size));)H(b,255&b.gzhead.extra[b.gzindex]),b.gzindex++;b.gzhead.hcrc&&b.pending>g&&(o.adler=l(o.adler,b.pending_buf,b.pending-g,g)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=73)}else b.status=73;if(b.status===73)if(b.gzhead.name){g=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>g&&(o.adler=l(o.adler,b.pending_buf,b.pending-g,g)),C(o),g=b.pending,b.pending===b.pending_buf_size)){k=1;break}k=b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0,H(b,k)}while(k!==0);b.gzhead.hcrc&&b.pending>g&&(o.adler=l(o.adler,b.pending_buf,b.pending-g,g)),k===0&&(b.gzindex=0,b.status=91)}else b.status=91;if(b.status===91)if(b.gzhead.comment){g=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>g&&(o.adler=l(o.adler,b.pending_buf,b.pending-g,g)),C(o),g=b.pending,b.pending===b.pending_buf_size)){k=1;break}k=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0,H(b,k)}while(k!==0);b.gzhead.hcrc&&b.pending>g&&(o.adler=l(o.adler,b.pending_buf,b.pending-g,g)),k===0&&(b.status=103)}else b.status=103;if(b.status===103&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&C(o),b.pending+2<=b.pending_buf_size&&(H(b,255&o.adler),H(b,o.adler>>8&255),o.adler=0,b.status=I)):b.status=I),b.pending!==0){if(C(o),o.avail_out===0)return b.last_flush=-1,c}else if(o.avail_in===0&&x(M)<=x(N)&&M!==_)return L(o,-5);if(b.status===666&&o.avail_in!==0)return L(o,-5);if(o.avail_in!==0||b.lookahead!==0||M!==f&&b.status!==666){var j=b.strategy===2?function(D,q){for(var G;;){if(D.lookahead===0&&(rt(D),D.lookahead===0)){if(q===f)return u;break}if(D.match_length=0,G=n._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++,G&&(A(D,!1),D.strm.avail_out===0))return u}return D.insert=0,q===_?(A(D,!0),D.strm.avail_out===0?it:W):D.last_lit&&(A(D,!1),D.strm.avail_out===0)?u:z}(b,M):b.strategy===3?function(D,q){for(var G,$,X,ht,ot=D.window;;){if(D.lookahead<=U){if(rt(D),D.lookahead<=U&&q===f)return u;if(D.lookahead===0)break}if(D.match_length=0,D.lookahead>=P&&0<D.strstart&&($=ot[X=D.strstart-1])===ot[++X]&&$===ot[++X]&&$===ot[++X]){ht=D.strstart+U;do;while($===ot[++X]&&$===ot[++X]&&$===ot[++X]&&$===ot[++X]&&$===ot[++X]&&$===ot[++X]&&$===ot[++X]&&$===ot[++X]&&X<ht);D.match_length=U-(ht-X),D.match_length>D.lookahead&&(D.match_length=D.lookahead)}if(D.match_length>=P?(G=n._tr_tally(D,1,D.match_length-P),D.lookahead-=D.match_length,D.strstart+=D.match_length,D.match_length=0):(G=n._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++),G&&(A(D,!1),D.strm.avail_out===0))return u}return D.insert=0,q===_?(A(D,!0),D.strm.avail_out===0?it:W):D.last_lit&&(A(D,!1),D.strm.avail_out===0)?u:z}(b,M):i[b.level].func(b,M);if(j!==it&&j!==W||(b.status=666),j===u||j===it)return o.avail_out===0&&(b.last_flush=-1),c;if(j===z&&(M===1?n._tr_align(b):M!==5&&(n._tr_stored_block(b,0,0,!1),M===3&&(V(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),C(o),o.avail_out===0))return b.last_flush=-1,c}return M!==_?c:b.wrap<=0?1:(b.wrap===2?(H(b,255&o.adler),H(b,o.adler>>8&255),H(b,o.adler>>16&255),H(b,o.adler>>24&255),H(b,255&o.total_in),H(b,o.total_in>>8&255),H(b,o.total_in>>16&255),H(b,o.total_in>>24&255)):(Z(b,o.adler>>>16),Z(b,65535&o.adler)),C(o),0<b.wrap&&(b.wrap=-b.wrap),b.pending!==0?c:1)},e.deflateEnd=function(o){var M;return o&&o.state?(M=o.state.status)!==S&&M!==69&&M!==73&&M!==91&&M!==103&&M!==I&&M!==666?L(o,y):(o.state=null,M===I?L(o,-3):c):y},e.deflateSetDictionary=function(o,M){var N,b,g,k,R,j,D,q,G=M.length;if(!o||!o.state||(k=(N=o.state).wrap)===2||k===1&&N.status!==S||N.lookahead)return y;for(k===1&&(o.adler=a(o.adler,M,G,0)),N.wrap=0,G>=N.w_size&&(k===0&&(V(N.head),N.strstart=0,N.block_start=0,N.insert=0),q=new r.Buf8(N.w_size),r.arraySet(q,M,G-N.w_size,N.w_size,0),M=q,G=N.w_size),R=o.avail_in,j=o.next_in,D=o.input,o.avail_in=G,o.next_in=0,o.input=M,rt(N);N.lookahead>=P;){for(b=N.strstart,g=N.lookahead-(P-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[b+P-1])&N.hash_mask,N.prev[b&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=b,b++,--g;);N.strstart=b,N.lookahead=P-1,rt(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=P-1,N.match_available=0,o.next_in=j,o.input=D,o.avail_in=R,N.wrap=k,c},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,t,e){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,t,e){"use strict";t.exports=function(i,r){var n,a,l,d,f,_,c,y,h,p,m,v,w,T,E,F,O,B,P,U,Y,S,I,u,z;n=i.state,a=i.next_in,u=i.input,l=a+(i.avail_in-5),d=i.next_out,z=i.output,f=d-(r-i.avail_out),_=d+(i.avail_out-257),c=n.dmax,y=n.wsize,h=n.whave,p=n.wnext,m=n.window,v=n.hold,w=n.bits,T=n.lencode,E=n.distcode,F=(1<<n.lenbits)-1,O=(1<<n.distbits)-1;t:do{w<15&&(v+=u[a++]<<w,w+=8,v+=u[a++]<<w,w+=8),B=T[v&F];e:for(;;){if(v>>>=P=B>>>24,w-=P,(P=B>>>16&255)===0)z[d++]=65535&B;else{if(!(16&P)){if((64&P)==0){B=T[(65535&B)+(v&(1<<P)-1)];continue e}if(32&P){n.mode=12;break t}i.msg="invalid literal/length code",n.mode=30;break t}U=65535&B,(P&=15)&&(w<P&&(v+=u[a++]<<w,w+=8),U+=v&(1<<P)-1,v>>>=P,w-=P),w<15&&(v+=u[a++]<<w,w+=8,v+=u[a++]<<w,w+=8),B=E[v&O];i:for(;;){if(v>>>=P=B>>>24,w-=P,!(16&(P=B>>>16&255))){if((64&P)==0){B=E[(65535&B)+(v&(1<<P)-1)];continue i}i.msg="invalid distance code",n.mode=30;break t}if(Y=65535&B,w<(P&=15)&&(v+=u[a++]<<w,(w+=8)<P&&(v+=u[a++]<<w,w+=8)),c<(Y+=v&(1<<P)-1)){i.msg="invalid distance too far back",n.mode=30;break t}if(v>>>=P,w-=P,(P=d-f)<Y){if(h<(P=Y-P)&&n.sane){i.msg="invalid distance too far back",n.mode=30;break t}if(I=m,(S=0)===p){if(S+=y-P,P<U){for(U-=P;z[d++]=m[S++],--P;);S=d-Y,I=z}}else if(p<P){if(S+=y+p-P,(P-=p)<U){for(U-=P;z[d++]=m[S++],--P;);if(S=0,p<U){for(U-=P=p;z[d++]=m[S++],--P;);S=d-Y,I=z}}}else if(S+=p-P,P<U){for(U-=P;z[d++]=m[S++],--P;);S=d-Y,I=z}for(;2<U;)z[d++]=I[S++],z[d++]=I[S++],z[d++]=I[S++],U-=3;U&&(z[d++]=I[S++],1<U&&(z[d++]=I[S++]))}else{for(S=d-Y;z[d++]=z[S++],z[d++]=z[S++],z[d++]=z[S++],2<(U-=3););U&&(z[d++]=z[S++],1<U&&(z[d++]=z[S++]))}break}}break}}while(a<l&&d<_);a-=U=w>>3,v&=(1<<(w-=U<<3))-1,i.next_in=a,i.next_out=d,i.avail_in=a<l?l-a+5:5-(a-l),i.avail_out=d<_?_-d+257:257-(d-_),n.hold=v,n.bits=w}},{}],49:[function(s,t,e){"use strict";var i=s("../utils/common"),r=s("./adler32"),n=s("./crc32"),a=s("./inffast"),l=s("./inftrees"),d=1,f=2,_=0,c=-2,y=1,h=852,p=592;function m(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(S){var I;return S&&S.state?(I=S.state,S.total_in=S.total_out=I.total=0,S.msg="",I.wrap&&(S.adler=1&I.wrap),I.mode=y,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new i.Buf32(h),I.distcode=I.distdyn=new i.Buf32(p),I.sane=1,I.back=-1,_):c}function T(S){var I;return S&&S.state?((I=S.state).wsize=0,I.whave=0,I.wnext=0,w(S)):c}function E(S,I){var u,z;return S&&S.state?(z=S.state,I<0?(u=0,I=-I):(u=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?c:(z.window!==null&&z.wbits!==I&&(z.window=null),z.wrap=u,z.wbits=I,T(S))):c}function F(S,I){var u,z;return S?(z=new v,(S.state=z).window=null,(u=E(S,I))!==_&&(S.state=null),u):c}var O,B,P=!0;function U(S){if(P){var I;for(O=new i.Buf32(512),B=new i.Buf32(32),I=0;I<144;)S.lens[I++]=8;for(;I<256;)S.lens[I++]=9;for(;I<280;)S.lens[I++]=7;for(;I<288;)S.lens[I++]=8;for(l(d,S.lens,0,288,O,0,S.work,{bits:9}),I=0;I<32;)S.lens[I++]=5;l(f,S.lens,0,32,B,0,S.work,{bits:5}),P=!1}S.lencode=O,S.lenbits=9,S.distcode=B,S.distbits=5}function Y(S,I,u,z){var it,W=S.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new i.Buf8(W.wsize)),z>=W.wsize?(i.arraySet(W.window,I,u-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(z<(it=W.wsize-W.wnext)&&(it=z),i.arraySet(W.window,I,u-z,it,W.wnext),(z-=it)?(i.arraySet(W.window,I,u-z,z,0),W.wnext=z,W.whave=W.wsize):(W.wnext+=it,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=it))),0}e.inflateReset=T,e.inflateReset2=E,e.inflateResetKeep=w,e.inflateInit=function(S){return F(S,15)},e.inflateInit2=F,e.inflate=function(S,I){var u,z,it,W,L,x,V,C,A,H,Z,K,rt,mt,nt,et,ct,at,bt,St,o,M,N,b,g=0,k=new i.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return c;(u=S.state).mode===12&&(u.mode=13),L=S.next_out,it=S.output,V=S.avail_out,W=S.next_in,z=S.input,x=S.avail_in,C=u.hold,A=u.bits,H=x,Z=V,M=_;t:for(;;)switch(u.mode){case y:if(u.wrap===0){u.mode=13;break}for(;A<16;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if(2&u.wrap&&C===35615){k[u.check=0]=255&C,k[1]=C>>>8&255,u.check=n(u.check,k,2,0),A=C=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&C)<<8)+(C>>8))%31){S.msg="incorrect header check",u.mode=30;break}if((15&C)!=8){S.msg="unknown compression method",u.mode=30;break}if(A-=4,o=8+(15&(C>>>=4)),u.wbits===0)u.wbits=o;else if(o>u.wbits){S.msg="invalid window size",u.mode=30;break}u.dmax=1<<o,S.adler=u.check=1,u.mode=512&C?10:12,A=C=0;break;case 2:for(;A<16;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if(u.flags=C,(255&u.flags)!=8){S.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){S.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=C>>8&1),512&u.flags&&(k[0]=255&C,k[1]=C>>>8&255,u.check=n(u.check,k,2,0)),A=C=0,u.mode=3;case 3:for(;A<32;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}u.head&&(u.head.time=C),512&u.flags&&(k[0]=255&C,k[1]=C>>>8&255,k[2]=C>>>16&255,k[3]=C>>>24&255,u.check=n(u.check,k,4,0)),A=C=0,u.mode=4;case 4:for(;A<16;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}u.head&&(u.head.xflags=255&C,u.head.os=C>>8),512&u.flags&&(k[0]=255&C,k[1]=C>>>8&255,u.check=n(u.check,k,2,0)),A=C=0,u.mode=5;case 5:if(1024&u.flags){for(;A<16;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}u.length=C,u.head&&(u.head.extra_len=C),512&u.flags&&(k[0]=255&C,k[1]=C>>>8&255,u.check=n(u.check,k,2,0)),A=C=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(x<(K=u.length)&&(K=x),K&&(u.head&&(o=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),i.arraySet(u.head.extra,z,W,K,o)),512&u.flags&&(u.check=n(u.check,z,K,W)),x-=K,W+=K,u.length-=K),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(x===0)break t;for(K=0;o=z[W+K++],u.head&&o&&u.length<65536&&(u.head.name+=String.fromCharCode(o)),o&&K<x;);if(512&u.flags&&(u.check=n(u.check,z,K,W)),x-=K,W+=K,o)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(x===0)break t;for(K=0;o=z[W+K++],u.head&&o&&u.length<65536&&(u.head.comment+=String.fromCharCode(o)),o&&K<x;);if(512&u.flags&&(u.check=n(u.check,z,K,W)),x-=K,W+=K,o)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;A<16;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if(C!==(65535&u.check)){S.msg="header crc mismatch",u.mode=30;break}A=C=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),S.adler=u.check=0,u.mode=12;break;case 10:for(;A<32;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}S.adler=u.check=m(C),A=C=0,u.mode=11;case 11:if(u.havedict===0)return S.next_out=L,S.avail_out=V,S.next_in=W,S.avail_in=x,u.hold=C,u.bits=A,2;S.adler=u.check=1,u.mode=12;case 12:if(I===5||I===6)break t;case 13:if(u.last){C>>>=7&A,A-=7&A,u.mode=27;break}for(;A<3;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}switch(u.last=1&C,A-=1,3&(C>>>=1)){case 0:u.mode=14;break;case 1:if(U(u),u.mode=20,I!==6)break;C>>>=2,A-=2;break t;case 2:u.mode=17;break;case 3:S.msg="invalid block type",u.mode=30}C>>>=2,A-=2;break;case 14:for(C>>>=7&A,A-=7&A;A<32;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if((65535&C)!=(C>>>16^65535)){S.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&C,A=C=0,u.mode=15,I===6)break t;case 15:u.mode=16;case 16:if(K=u.length){if(x<K&&(K=x),V<K&&(K=V),K===0)break t;i.arraySet(it,z,W,K,L),x-=K,W+=K,V-=K,L+=K,u.length-=K;break}u.mode=12;break;case 17:for(;A<14;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if(u.nlen=257+(31&C),C>>>=5,A-=5,u.ndist=1+(31&C),C>>>=5,A-=5,u.ncode=4+(15&C),C>>>=4,A-=4,286<u.nlen||30<u.ndist){S.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;A<3;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}u.lens[R[u.have++]]=7&C,C>>>=3,A-=3}for(;u.have<19;)u.lens[R[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,N={bits:u.lenbits},M=l(0,u.lens,0,19,u.lencode,0,u.work,N),u.lenbits=N.bits,M){S.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;et=(g=u.lencode[C&(1<<u.lenbits)-1])>>>16&255,ct=65535&g,!((nt=g>>>24)<=A);){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if(ct<16)C>>>=nt,A-=nt,u.lens[u.have++]=ct;else{if(ct===16){for(b=nt+2;A<b;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if(C>>>=nt,A-=nt,u.have===0){S.msg="invalid bit length repeat",u.mode=30;break}o=u.lens[u.have-1],K=3+(3&C),C>>>=2,A-=2}else if(ct===17){for(b=nt+3;A<b;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}A-=nt,o=0,K=3+(7&(C>>>=nt)),C>>>=3,A-=3}else{for(b=nt+7;A<b;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}A-=nt,o=0,K=11+(127&(C>>>=nt)),C>>>=7,A-=7}if(u.have+K>u.nlen+u.ndist){S.msg="invalid bit length repeat",u.mode=30;break}for(;K--;)u.lens[u.have++]=o}}if(u.mode===30)break;if(u.lens[256]===0){S.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,N={bits:u.lenbits},M=l(d,u.lens,0,u.nlen,u.lencode,0,u.work,N),u.lenbits=N.bits,M){S.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,N={bits:u.distbits},M=l(f,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,N),u.distbits=N.bits,M){S.msg="invalid distances set",u.mode=30;break}if(u.mode=20,I===6)break t;case 20:u.mode=21;case 21:if(6<=x&&258<=V){S.next_out=L,S.avail_out=V,S.next_in=W,S.avail_in=x,u.hold=C,u.bits=A,a(S,Z),L=S.next_out,it=S.output,V=S.avail_out,W=S.next_in,z=S.input,x=S.avail_in,C=u.hold,A=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;et=(g=u.lencode[C&(1<<u.lenbits)-1])>>>16&255,ct=65535&g,!((nt=g>>>24)<=A);){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if(et&&(240&et)==0){for(at=nt,bt=et,St=ct;et=(g=u.lencode[St+((C&(1<<at+bt)-1)>>at)])>>>16&255,ct=65535&g,!(at+(nt=g>>>24)<=A);){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}C>>>=at,A-=at,u.back+=at}if(C>>>=nt,A-=nt,u.back+=nt,u.length=ct,et===0){u.mode=26;break}if(32&et){u.back=-1,u.mode=12;break}if(64&et){S.msg="invalid literal/length code",u.mode=30;break}u.extra=15&et,u.mode=22;case 22:if(u.extra){for(b=u.extra;A<b;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}u.length+=C&(1<<u.extra)-1,C>>>=u.extra,A-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;et=(g=u.distcode[C&(1<<u.distbits)-1])>>>16&255,ct=65535&g,!((nt=g>>>24)<=A);){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if((240&et)==0){for(at=nt,bt=et,St=ct;et=(g=u.distcode[St+((C&(1<<at+bt)-1)>>at)])>>>16&255,ct=65535&g,!(at+(nt=g>>>24)<=A);){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}C>>>=at,A-=at,u.back+=at}if(C>>>=nt,A-=nt,u.back+=nt,64&et){S.msg="invalid distance code",u.mode=30;break}u.offset=ct,u.extra=15&et,u.mode=24;case 24:if(u.extra){for(b=u.extra;A<b;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}u.offset+=C&(1<<u.extra)-1,C>>>=u.extra,A-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){S.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(V===0)break t;if(K=Z-V,u.offset>K){if((K=u.offset-K)>u.whave&&u.sane){S.msg="invalid distance too far back",u.mode=30;break}rt=K>u.wnext?(K-=u.wnext,u.wsize-K):u.wnext-K,K>u.length&&(K=u.length),mt=u.window}else mt=it,rt=L-u.offset,K=u.length;for(V<K&&(K=V),V-=K,u.length-=K;it[L++]=mt[rt++],--K;);u.length===0&&(u.mode=21);break;case 26:if(V===0)break t;it[L++]=u.length,V--,u.mode=21;break;case 27:if(u.wrap){for(;A<32;){if(x===0)break t;x--,C|=z[W++]<<A,A+=8}if(Z-=V,S.total_out+=Z,u.total+=Z,Z&&(S.adler=u.check=u.flags?n(u.check,it,Z,L-Z):r(u.check,it,Z,L-Z)),Z=V,(u.flags?C:m(C))!==u.check){S.msg="incorrect data check",u.mode=30;break}A=C=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;A<32;){if(x===0)break t;x--,C+=z[W++]<<A,A+=8}if(C!==(4294967295&u.total)){S.msg="incorrect length check",u.mode=30;break}A=C=0}u.mode=29;case 29:M=1;break t;case 30:M=-3;break t;case 31:return-4;case 32:default:return c}return S.next_out=L,S.avail_out=V,S.next_in=W,S.avail_in=x,u.hold=C,u.bits=A,(u.wsize||Z!==S.avail_out&&u.mode<30&&(u.mode<27||I!==4))&&Y(S,S.output,S.next_out,Z-S.avail_out)?(u.mode=31,-4):(H-=S.avail_in,Z-=S.avail_out,S.total_in+=H,S.total_out+=Z,u.total+=Z,u.wrap&&Z&&(S.adler=u.check=u.flags?n(u.check,it,Z,S.next_out-Z):r(u.check,it,Z,S.next_out-Z)),S.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(H==0&&Z===0||I===4)&&M===_&&(M=-5),M)},e.inflateEnd=function(S){if(!S||!S.state)return c;var I=S.state;return I.window&&(I.window=null),S.state=null,_},e.inflateGetHeader=function(S,I){var u;return S&&S.state?(2&(u=S.state).wrap)==0?c:((u.head=I).done=!1,_):c},e.inflateSetDictionary=function(S,I){var u,z=I.length;return S&&S.state?(u=S.state).wrap!==0&&u.mode!==11?c:u.mode===11&&r(1,I,z,0)!==u.check?-3:Y(S,I,z,z)?(u.mode=31,-4):(u.havedict=1,_):c},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,t,e){"use strict";var i=s("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(d,f,_,c,y,h,p,m){var v,w,T,E,F,O,B,P,U,Y=m.bits,S=0,I=0,u=0,z=0,it=0,W=0,L=0,x=0,V=0,C=0,A=null,H=0,Z=new i.Buf16(16),K=new i.Buf16(16),rt=null,mt=0;for(S=0;S<=15;S++)Z[S]=0;for(I=0;I<c;I++)Z[f[_+I]]++;for(it=Y,z=15;1<=z&&Z[z]===0;z--);if(z<it&&(it=z),z===0)return y[h++]=20971520,y[h++]=20971520,m.bits=1,0;for(u=1;u<z&&Z[u]===0;u++);for(it<u&&(it=u),S=x=1;S<=15;S++)if(x<<=1,(x-=Z[S])<0)return-1;if(0<x&&(d===0||z!==1))return-1;for(K[1]=0,S=1;S<15;S++)K[S+1]=K[S]+Z[S];for(I=0;I<c;I++)f[_+I]!==0&&(p[K[f[_+I]]++]=I);if(O=d===0?(A=rt=p,19):d===1?(A=r,H-=257,rt=n,mt-=257,256):(A=a,rt=l,-1),S=u,F=h,L=I=C=0,T=-1,E=(V=1<<(W=it))-1,d===1&&852<V||d===2&&592<V)return 1;for(;;){for(B=S-L,U=p[I]<O?(P=0,p[I]):p[I]>O?(P=rt[mt+p[I]],A[H+p[I]]):(P=96,0),v=1<<S-L,u=w=1<<W;y[F+(C>>L)+(w-=v)]=B<<24|P<<16|U|0,w!==0;);for(v=1<<S-1;C&v;)v>>=1;if(v!==0?(C&=v-1,C+=v):C=0,I++,--Z[S]==0){if(S===z)break;S=f[_+p[I]]}if(it<S&&(C&E)!==T){for(L===0&&(L=it),F+=u,x=1<<(W=S-L);W+L<z&&!((x-=Z[W+L])<=0);)W++,x<<=1;if(V+=1<<W,d===1&&852<V||d===2&&592<V)return 1;y[T=C&E]=it<<24|W<<16|F-h|0}}return C!==0&&(y[F+C]=S-L<<24|64<<16|0),m.bits=it,0}},{"../utils/common":41}],51:[function(s,t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,t,e){"use strict";var i=s("../utils/common"),r=0,n=1;function a(g){for(var k=g.length;0<=--k;)g[k]=0}var l=0,d=29,f=256,_=f+1+d,c=30,y=19,h=2*_+1,p=15,m=16,v=7,w=256,T=16,E=17,F=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(_+2));a(Y);var S=new Array(2*c);a(S);var I=new Array(512);a(I);var u=new Array(256);a(u);var z=new Array(d);a(z);var it,W,L,x=new Array(c);function V(g,k,R,j,D){this.static_tree=g,this.extra_bits=k,this.extra_base=R,this.elems=j,this.max_length=D,this.has_stree=g&&g.length}function C(g,k){this.dyn_tree=g,this.max_code=0,this.stat_desc=k}function A(g){return g<256?I[g]:I[256+(g>>>7)]}function H(g,k){g.pending_buf[g.pending++]=255&k,g.pending_buf[g.pending++]=k>>>8&255}function Z(g,k,R){g.bi_valid>m-R?(g.bi_buf|=k<<g.bi_valid&65535,H(g,g.bi_buf),g.bi_buf=k>>m-g.bi_valid,g.bi_valid+=R-m):(g.bi_buf|=k<<g.bi_valid&65535,g.bi_valid+=R)}function K(g,k,R){Z(g,R[2*k],R[2*k+1])}function rt(g,k){for(var R=0;R|=1&g,g>>>=1,R<<=1,0<--k;);return R>>>1}function mt(g,k,R){var j,D,q=new Array(p+1),G=0;for(j=1;j<=p;j++)q[j]=G=G+R[j-1]<<1;for(D=0;D<=k;D++){var $=g[2*D+1];$!==0&&(g[2*D]=rt(q[$]++,$))}}function nt(g){var k;for(k=0;k<_;k++)g.dyn_ltree[2*k]=0;for(k=0;k<c;k++)g.dyn_dtree[2*k]=0;for(k=0;k<y;k++)g.bl_tree[2*k]=0;g.dyn_ltree[2*w]=1,g.opt_len=g.static_len=0,g.last_lit=g.matches=0}function et(g){8<g.bi_valid?H(g,g.bi_buf):0<g.bi_valid&&(g.pending_buf[g.pending++]=g.bi_buf),g.bi_buf=0,g.bi_valid=0}function ct(g,k,R,j){var D=2*k,q=2*R;return g[D]<g[q]||g[D]===g[q]&&j[k]<=j[R]}function at(g,k,R){for(var j=g.heap[R],D=R<<1;D<=g.heap_len&&(D<g.heap_len&&ct(k,g.heap[D+1],g.heap[D],g.depth)&&D++,!ct(k,j,g.heap[D],g.depth));)g.heap[R]=g.heap[D],R=D,D<<=1;g.heap[R]=j}function bt(g,k,R){var j,D,q,G,$=0;if(g.last_lit!==0)for(;j=g.pending_buf[g.d_buf+2*$]<<8|g.pending_buf[g.d_buf+2*$+1],D=g.pending_buf[g.l_buf+$],$++,j===0?K(g,D,k):(K(g,(q=u[D])+f+1,k),(G=O[q])!==0&&Z(g,D-=z[q],G),K(g,q=A(--j),R),(G=B[q])!==0&&Z(g,j-=x[q],G)),$<g.last_lit;);K(g,w,k)}function St(g,k){var R,j,D,q=k.dyn_tree,G=k.stat_desc.static_tree,$=k.stat_desc.has_stree,X=k.stat_desc.elems,ht=-1;for(g.heap_len=0,g.heap_max=h,R=0;R<X;R++)q[2*R]!==0?(g.heap[++g.heap_len]=ht=R,g.depth[R]=0):q[2*R+1]=0;for(;g.heap_len<2;)q[2*(D=g.heap[++g.heap_len]=ht<2?++ht:0)]=1,g.depth[D]=0,g.opt_len--,$&&(g.static_len-=G[2*D+1]);for(k.max_code=ht,R=g.heap_len>>1;1<=R;R--)at(g,q,R);for(D=X;R=g.heap[1],g.heap[1]=g.heap[g.heap_len--],at(g,q,1),j=g.heap[1],g.heap[--g.heap_max]=R,g.heap[--g.heap_max]=j,q[2*D]=q[2*R]+q[2*j],g.depth[D]=(g.depth[R]>=g.depth[j]?g.depth[R]:g.depth[j])+1,q[2*R+1]=q[2*j+1]=D,g.heap[1]=D++,at(g,q,1),2<=g.heap_len;);g.heap[--g.heap_max]=g.heap[1],function(ot,kt){var _e,Pt,ye,ft,Fe,di,Ft=kt.dyn_tree,Hi=kt.max_code,ts=kt.stat_desc.static_tree,es=kt.stat_desc.has_stree,is=kt.stat_desc.extra_bits,Ji=kt.stat_desc.extra_base,ve=kt.stat_desc.max_length,Ie=0;for(ft=0;ft<=p;ft++)ot.bl_count[ft]=0;for(Ft[2*ot.heap[ot.heap_max]+1]=0,_e=ot.heap_max+1;_e<h;_e++)ve<(ft=Ft[2*Ft[2*(Pt=ot.heap[_e])+1]+1]+1)&&(ft=ve,Ie++),Ft[2*Pt+1]=ft,Hi<Pt||(ot.bl_count[ft]++,Fe=0,Ji<=Pt&&(Fe=is[Pt-Ji]),di=Ft[2*Pt],ot.opt_len+=di*(ft+Fe),es&&(ot.static_len+=di*(ts[2*Pt+1]+Fe)));if(Ie!==0){do{for(ft=ve-1;ot.bl_count[ft]===0;)ft--;ot.bl_count[ft]--,ot.bl_count[ft+1]+=2,ot.bl_count[ve]--,Ie-=2}while(0<Ie);for(ft=ve;ft!==0;ft--)for(Pt=ot.bl_count[ft];Pt!==0;)Hi<(ye=ot.heap[--_e])||(Ft[2*ye+1]!==ft&&(ot.opt_len+=(ft-Ft[2*ye+1])*Ft[2*ye],Ft[2*ye+1]=ft),Pt--)}}(g,k),mt(q,ht,g.bl_count)}function o(g,k,R){var j,D,q=-1,G=k[1],$=0,X=7,ht=4;for(G===0&&(X=138,ht=3),k[2*(R+1)+1]=65535,j=0;j<=R;j++)D=G,G=k[2*(j+1)+1],++$<X&&D===G||($<ht?g.bl_tree[2*D]+=$:D!==0?(D!==q&&g.bl_tree[2*D]++,g.bl_tree[2*T]++):$<=10?g.bl_tree[2*E]++:g.bl_tree[2*F]++,q=D,ht=($=0)===G?(X=138,3):D===G?(X=6,3):(X=7,4))}function M(g,k,R){var j,D,q=-1,G=k[1],$=0,X=7,ht=4;for(G===0&&(X=138,ht=3),j=0;j<=R;j++)if(D=G,G=k[2*(j+1)+1],!(++$<X&&D===G)){if($<ht)for(;K(g,D,g.bl_tree),--$!=0;);else D!==0?(D!==q&&(K(g,D,g.bl_tree),$--),K(g,T,g.bl_tree),Z(g,$-3,2)):$<=10?(K(g,E,g.bl_tree),Z(g,$-3,3)):(K(g,F,g.bl_tree),Z(g,$-11,7));q=D,ht=($=0)===G?(X=138,3):D===G?(X=6,3):(X=7,4)}}a(x);var N=!1;function b(g,k,R,j){Z(g,(l<<1)+(j?1:0),3),function(D,q,G,$){et(D),$&&(H(D,G),H(D,~G)),i.arraySet(D.pending_buf,D.window,q,G,D.pending),D.pending+=G}(g,k,R,!0)}e._tr_init=function(g){N||(function(){var k,R,j,D,q,G=new Array(p+1);for(D=j=0;D<d-1;D++)for(z[D]=j,k=0;k<1<<O[D];k++)u[j++]=D;for(u[j-1]=D,D=q=0;D<16;D++)for(x[D]=q,k=0;k<1<<B[D];k++)I[q++]=D;for(q>>=7;D<c;D++)for(x[D]=q<<7,k=0;k<1<<B[D]-7;k++)I[256+q++]=D;for(R=0;R<=p;R++)G[R]=0;for(k=0;k<=143;)Y[2*k+1]=8,k++,G[8]++;for(;k<=255;)Y[2*k+1]=9,k++,G[9]++;for(;k<=279;)Y[2*k+1]=7,k++,G[7]++;for(;k<=287;)Y[2*k+1]=8,k++,G[8]++;for(mt(Y,_+1,G),k=0;k<c;k++)S[2*k+1]=5,S[2*k]=rt(k,5);it=new V(Y,O,f+1,_,p),W=new V(S,B,0,c,p),L=new V(new Array(0),P,0,y,v)}(),N=!0),g.l_desc=new C(g.dyn_ltree,it),g.d_desc=new C(g.dyn_dtree,W),g.bl_desc=new C(g.bl_tree,L),g.bi_buf=0,g.bi_valid=0,nt(g)},e._tr_stored_block=b,e._tr_flush_block=function(g,k,R,j){var D,q,G=0;0<g.level?(g.strm.data_type===2&&(g.strm.data_type=function($){var X,ht=4093624447;for(X=0;X<=31;X++,ht>>>=1)if(1&ht&&$.dyn_ltree[2*X]!==0)return r;if($.dyn_ltree[18]!==0||$.dyn_ltree[20]!==0||$.dyn_ltree[26]!==0)return n;for(X=32;X<f;X++)if($.dyn_ltree[2*X]!==0)return n;return r}(g)),St(g,g.l_desc),St(g,g.d_desc),G=function($){var X;for(o($,$.dyn_ltree,$.l_desc.max_code),o($,$.dyn_dtree,$.d_desc.max_code),St($,$.bl_desc),X=y-1;3<=X&&$.bl_tree[2*U[X]+1]===0;X--);return $.opt_len+=3*(X+1)+5+5+4,X}(g),D=g.opt_len+3+7>>>3,(q=g.static_len+3+7>>>3)<=D&&(D=q)):D=q=R+5,R+4<=D&&k!==-1?b(g,k,R,j):g.strategy===4||q===D?(Z(g,2+(j?1:0),3),bt(g,Y,S)):(Z(g,4+(j?1:0),3),function($,X,ht,ot){var kt;for(Z($,X-257,5),Z($,ht-1,5),Z($,ot-4,4),kt=0;kt<ot;kt++)Z($,$.bl_tree[2*U[kt]+1],3);M($,$.dyn_ltree,X-1),M($,$.dyn_dtree,ht-1)}(g,g.l_desc.max_code+1,g.d_desc.max_code+1,G+1),bt(g,g.dyn_ltree,g.dyn_dtree)),nt(g),j&&et(g)},e._tr_tally=function(g,k,R){return g.pending_buf[g.d_buf+2*g.last_lit]=k>>>8&255,g.pending_buf[g.d_buf+2*g.last_lit+1]=255&k,g.pending_buf[g.l_buf+g.last_lit]=255&R,g.last_lit++,k===0?g.dyn_ltree[2*R]++:(g.matches++,k--,g.dyn_ltree[2*(u[R]+f+1)]++,g.dyn_dtree[2*A(k)]++),g.last_lit===g.lit_bufsize-1},e._tr_align=function(g){Z(g,2,3),K(g,w,Y),function(k){k.bi_valid===16?(H(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)}(g)}},{"../utils/common":41}],53:[function(s,t,e){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,t,e){(function(i){(function(r,n){"use strict";if(!r.setImmediate){var a,l,d,f,_=1,c={},y=!1,h=r.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(r);p=p&&p.setTimeout?p:r,a={}.toString.call(r.process)==="[object process]"?function(T){process.nextTick(function(){v(T)})}:function(){if(r.postMessage&&!r.importScripts){var T=!0,E=r.onmessage;return r.onmessage=function(){T=!1},r.postMessage("","*"),r.onmessage=E,T}}()?(f="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",w,!1):r.attachEvent("onmessage",w),function(T){r.postMessage(f+T,"*")}):r.MessageChannel?((d=new MessageChannel).port1.onmessage=function(T){v(T.data)},function(T){d.port2.postMessage(T)}):h&&"onreadystatechange"in h.createElement("script")?(l=h.documentElement,function(T){var E=h.createElement("script");E.onreadystatechange=function(){v(T),E.onreadystatechange=null,l.removeChild(E),E=null},l.appendChild(E)}):function(T){setTimeout(v,0,T)},p.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var E=new Array(arguments.length-1),F=0;F<E.length;F++)E[F]=arguments[F+1];var O={callback:T,args:E};return c[_]=O,a(_),_++},p.clearImmediate=m}function m(T){delete c[T]}function v(T){if(y)setTimeout(v,0,T);else{var E=c[T];if(E){y=!0;try{(function(F){var O=F.callback,B=F.args;switch(B.length){case 0:O();break;case 1:O(B[0]);break;case 2:O(B[0],B[1]);break;case 3:O(B[0],B[1],B[2]);break;default:O.apply(n,B)}})(E)}finally{m(T),y=!1}}}}function w(T){T.source===r&&typeof T.data=="string"&&T.data.indexOf(f)===0&&v(+T.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Lr="1.0.0";var jr=(()=>{let t=class t{constructor(){this.version="???",this.appName=Le,this.version=Lr}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-root"]],decls:4,vars:2,consts:[[1,"flex-auto","flex-col"],[1,"status-bar"]],template:function(r,n){r&1&&(Q(0,"main",0),yt(1,"router-outlet"),J(),Q(2,"div",1),tt(3),J()),r&2&&(_t(3),Be("",n.appName," ",n.version," \xA9 2025"))},dependencies:[mr,vr],styles:["[_nghost-%COMP%]{flex:auto;display:flex;flex-direction:column}.status-bar[_ngcontent-%COMP%]{padding:0 10px;line-height:18px;font-size:12px;border-top:1px solid #ffffff}"]});let s=t;return s})();function Ur(s){return new lt(3e3,!1)}function os(){return new lt(3100,!1)}function ls(){return new lt(3101,!1)}function us(s){return new lt(3001,!1)}function cs(s){return new lt(3003,!1)}function hs(s){return new lt(3004,!1)}function Wr(s,t){return new lt(3005,!1)}function Kr(){return new lt(3006,!1)}function qr(){return new lt(3007,!1)}function $r(s,t){return new lt(3008,!1)}function Zr(s){return new lt(3002,!1)}function Qr(s,t,e,i,r){return new lt(3010,!1)}function Gr(){return new lt(3011,!1)}function Hr(){return new lt(3012,!1)}function Jr(){return new lt(3200,!1)}function Yr(){return new lt(3202,!1)}function Xr(){return new lt(3013,!1)}function tn(s){return new lt(3014,!1)}function en(s){return new lt(3015,!1)}function rn(s){return new lt(3016,!1)}function nn(s,t){return new lt(3404,!1)}function ds(s){return new lt(3502,!1)}function sn(s){return new lt(3503,!1)}function an(){return new lt(3300,!1)}function on(s){return new lt(3504,!1)}function ln(s){return new lt(3301,!1)}function un(s,t){return new lt(3302,!1)}function cn(s){return new lt(3303,!1)}function hn(s,t){return new lt(3400,!1)}function dn(s){return new lt(3401,!1)}function fn(s){return new lt(3402,!1)}function mn(s,t){return new lt(3505,!1)}function zt(s){switch(s.length){case 0:return new qt;case 1:return s[0];default:return new Ve(s)}}function bi(s,t,e=new Map,i=new Map){let r=[],n=[],a=-1,l=null;if(t.forEach(d=>{let f=d.get("offset"),_=f==a,c=_&&l||new Map;d.forEach((y,h)=>{let p=h,m=y;if(h!=="offset")switch(p=s.normalizePropertyName(p,r),m){case Ee:m=e.get(h);break;case At:m=i.get(h);break;default:m=s.normalizeStyleValue(h,p,m,r);break}c.set(p,m)}),_||n.push(c),l=c,a=f}),r.length)throw ds(r);return n}function $e(s,t,e,i){switch(t){case"start":s.onStart(()=>i(e&&_i(e,"start",s)));break;case"done":s.onDone(()=>i(e&&_i(e,"done",s)));break;case"destroy":s.onDestroy(()=>i(e&&_i(e,"destroy",s)));break}}function _i(s,t,e){let i=e.totalTime,r=!!e.disabled,n=Ze(s.element,s.triggerName,s.fromState,s.toState,t||s.phaseName,i??s.totalTime,r),a=s._data;return a!=null&&(n._data=a),n}function Ze(s,t,e,i,r="",n=0,a){return{element:s,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:n,disabled:!!a}}function wt(s,t,e){let i=s.get(t);return i||s.set(t,i=e),i}function Si(s){let t=s.indexOf(":"),e=s.substring(1,t),i=s.slice(t+1);return[e,i]}var fs=typeof document>"u"?null:document.documentElement;function Qe(s){let t=s.parentNode||s.host||null;return t===fs?null:t}function ms(s){return s.substring(1,6)=="ebkit"}var $t=null,Vr=!1;function pn(s){$t||($t=ps()||{},Vr=$t.style?"WebkitAppearance"in $t.style:!1);let t=!0;return $t.style&&!ms(s)&&(t=s in $t.style,!t&&Vr&&(t="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in $t.style)),t}function ps(){return typeof document<"u"?document.body:null}function wi(s,t){for(;t;){if(t===s)return!0;t=Qe(t)}return!1}function Ei(s,t,e){if(e)return Array.from(s.querySelectorAll(t));let i=s.querySelector(t);return i?[i]:[]}var gs=1e3,ki="{{",_s="}}",Ti="ng-enter",Ge="ng-leave",Te="ng-trigger",Ce=".ng-trigger",Ci="ng-animating",He=".ng-animating";function Ot(s){if(typeof s=="number")return s;let t=s.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yi(parseFloat(t[1]),t[2])}function yi(s,t){switch(t){case"s":return s*gs;default:return s}}function Ae(s,t,e){return s.hasOwnProperty("duration")?s:ys(s,t,e)}function ys(s,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,n=0,a="";if(typeof s=="string"){let l=s.match(i);if(l===null)return t.push(Ur(s)),{duration:0,delay:0,easing:""};r=yi(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(n=yi(parseFloat(d),l[4]));let f=l[5];f&&(a=f)}else r=s;if(!e){let l=!1,d=t.length;r<0&&(t.push(os()),l=!0),n<0&&(t.push(ls()),l=!0),l&&t.splice(d,0,Ur(s))}return{duration:r,delay:n,easing:a}}function gn(s){return s.length?s[0]instanceof Map?s:s.map(t=>new Map(Object.entries(t))):[]}function Dt(s,t,e){t.forEach((i,r)=>{let n=Je(r);e&&!e.has(r)&&e.set(r,s.style[n]),s.style[n]=i})}function Wt(s,t){t.forEach((e,i)=>{let r=Je(i);s.style[r]=""})}function fe(s){return Array.isArray(s)?s.length==1?s[0]:Tr(s):s}function _n(s,t,e){let i=t.params||{},r=Ai(s);r.length&&r.forEach(n=>{i.hasOwnProperty(n)||e.push(us(n))})}var vi=new RegExp(`${ki}\\s*(.+?)\\s*${_s}`,"g");function Ai(s){let t=[];if(typeof s=="string"){let e;for(;e=vi.exec(s);)t.push(e[1]);vi.lastIndex=0}return t}function me(s,t,e){let i=`${s}`,r=i.replace(vi,(n,a)=>{let l=t[a];return l==null&&(e.push(cs(a)),l=""),l.toString()});return r==i?s:r}var vs=/-+([a-z0-9])/g;function Je(s){return s.replace(vs,(...t)=>t[1].toUpperCase())}function yn(s,t){return s===0||t===0}function vn(s,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((n,a)=>{i.has(a)||r.push(a),i.set(a,n)}),r.length)for(let n=1;n<t.length;n++){let a=t[n];r.forEach(l=>a.set(l,Ye(s,l)))}}return t}function Et(s,t,e){switch(t.type){case st.Trigger:return s.visitTrigger(t,e);case st.State:return s.visitState(t,e);case st.Transition:return s.visitTransition(t,e);case st.Sequence:return s.visitSequence(t,e);case st.Group:return s.visitGroup(t,e);case st.Animate:return s.visitAnimate(t,e);case st.Keyframes:return s.visitKeyframes(t,e);case st.Style:return s.visitStyle(t,e);case st.Reference:return s.visitReference(t,e);case st.AnimateChild:return s.visitAnimateChild(t,e);case st.AnimateRef:return s.visitAnimateRef(t,e);case st.Query:return s.visitQuery(t,e);case st.Stagger:return s.visitStagger(t,e);default:throw hs(t.type)}}function Ye(s,t){return window.getComputedStyle(s)[t]}var Ki=(()=>{class s{validateStyleProperty(e){return pn(e)}containsElement(e,i){return wi(e,i)}getParentElement(e){return Qe(e)}query(e,i,r){return Ei(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,n,a,l=[],d){return new qt(r,n)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Rt({token:s,factory:s.\u0275fac})}return s})(),Qt=class{static NOOP=new Ki},Gt=class{};var bs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ri=class extends Gt{normalizePropertyName(t,e){return Je(t)}normalizeStyleValue(t,e,i,r){let n="",a=i.toString().trim();if(bs.has(e)&&i!==0&&i!=="0")if(typeof i=="number")n="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(Wr(t,i))}return a+n}};var ni="*";function Ss(s,t){let e=[];return typeof s=="string"?s.split(/\s*,\s*/).forEach(i=>ws(i,e,t)):e.push(s),e}function ws(s,t,e){if(s[0]==":"){let d=Es(s,e);if(typeof d=="function"){t.push(d);return}s=d}let i=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(en(s)),t;let r=i[1],n=i[2],a=i[3];t.push(bn(r,a));let l=r==ni&&a==ni;n[0]=="<"&&!l&&t.push(bn(a,r))}function Es(s,t){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(rn(s)),"* => *"}}var Xe=new Set(["true","1"]),ti=new Set(["false","0"]);function bn(s,t){let e=Xe.has(s)||ti.has(s),i=Xe.has(t)||ti.has(t);return(r,n)=>{let a=s==ni||s==r,l=t==ni||t==n;return!a&&e&&typeof r=="boolean"&&(a=r?Xe.has(s):ti.has(s)),!l&&i&&typeof n=="boolean"&&(l=n?Xe.has(t):ti.has(t)),a&&l}}var Pn=":self",ks=new RegExp(`s*${Pn}s*,?`,"g");function Nn(s,t,e,i){return new Fi(s).build(t,e,i)}var Sn="",Fi=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new Ii(e);return this._resetContextStyleTimingState(r),Et(this,fe(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=Sn,t.collectedStyles=new Map,t.collectedStyles.set(Sn,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,n=[],a=[];return t.name.charAt(0)=="@"&&e.errors.push(Kr()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==st.State){let d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(_=>{d.name=_,n.push(this.visitState(d,e))}),d.name=f}else if(l.type==st.Transition){let d=this.visitTransition(l,e);i+=d.queryCount,r+=d.depCount,a.push(d)}else e.errors.push(qr())}),{type:st.Trigger,name:t.name,states:n,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let n=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{Ai(d).forEach(f=>{a.hasOwnProperty(f)||n.add(f)})})}),n.size&&e.errors.push($r(t.name,[...n.values()]))}return{type:st.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Et(this,fe(t.animation),e),r=Ss(t.expr,e.errors);return{type:st.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Zt(t.options)}}visitSequence(t,e){return{type:st.Sequence,steps:t.steps.map(i=>Et(this,i,e)),options:Zt(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,n=t.steps.map(a=>{e.currentTime=i;let l=Et(this,a,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:st.Group,steps:n,options:Zt(t.options)}}visitAnimate(t,e){let i=Ds(t.timings,e.errors);e.currentAnimateTimings=i;let r,n=t.styles?t.styles:gi({});if(n.type==st.Keyframes)r=this.visitKeyframes(n,e);else{let a=t.styles,l=!1;if(!a){l=!0;let f={};i.easing&&(f.easing=i.easing),a=gi(f)}e.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,e);d.isEmptyStep=l,r=d}return e.currentAnimateTimings=null,{type:st.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of r)typeof l=="string"?l===At?i.push(l):e.errors.push(Zr(l)):i.push(new Map(Object.entries(l)));let n=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!n)){for(let d of l.values())if(d.toString().indexOf(ki)>=0){n=!0;break}}}),{type:st.Style,styles:i,easing:a,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,n=e.currentTime;i&&n>0&&(n-=i.duration+i.delay),t.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(d),c=!0;_&&(n!=r&&n>=_.startTime&&r<=_.endTime&&(e.errors.push(Qr(d,_.startTime,_.endTime,n,r)),c=!1),n=_.startTime),c&&f.set(d,{startTime:n,endTime:r}),e.options&&_n(l,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:st.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Gr()),i;let r=1,n=0,a=[],l=!1,d=!1,f=0,_=t.steps.map(w=>{let T=this._makeStyleAst(w,e),E=T.offset!=null?T.offset:As(T.styles),F=0;return E!=null&&(n++,F=T.offset=E),d=d||F<0||F>1,l=l||F<f,f=F,a.push(F),T});d&&e.errors.push(Hr()),l&&e.errors.push(Jr());let c=t.steps.length,y=0;n>0&&n<c?e.errors.push(Yr()):n==0&&(y=r/(c-1));let h=c-1,p=e.currentTime,m=e.currentAnimateTimings,v=m.duration;return _.forEach((w,T)=>{let E=y>0?T==h?1:y*T:a[T],F=E*v;e.currentTime=p+m.delay+F,m.duration=F,this._validateStyleAst(w,e),w.offset=E,i.styles.push(w)}),i}visitReference(t,e){return{type:st.Reference,animation:Et(this,fe(t.animation),e),options:Zt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:st.AnimateChild,options:Zt(t.options)}}visitAnimateRef(t,e){return{type:st.AnimateRef,animation:this.visitReference(t.animation,e),options:Zt(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[n,a]=Ts(t.selector);e.currentQuerySelector=i.length?i+" "+n:n,wt(e.collectedStyles,e.currentQuerySelector,new Map);let l=Et(this,fe(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:st.Query,selector:n,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:Zt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Xr());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Ae(t.timings,e.errors,!0);return{type:st.Stagger,animation:Et(this,fe(t.animation),e),timings:i,options:null}}};function Ts(s){let t=!!s.split(/\s*,\s*/).find(e=>e==Pn);return t&&(s=s.replace(ks,"")),s=s.replace(/@\*/g,Ce).replace(/@\w+/g,e=>Ce+"-"+e.slice(1)).replace(/:animating/g,He),[s,t]}function Cs(s){return s?Kt({},s):null}var Ii=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function As(s){if(typeof s=="string")return null;let t=null;if(Array.isArray(s))s.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(s instanceof Map&&s.has("offset")){let e=s;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Ds(s,t){if(s.hasOwnProperty("duration"))return s;if(typeof s=="number"){let n=Ae(s,t).duration;return Di(n,0,"")}let e=s;if(e.split(/\s+/).some(n=>n.charAt(0)=="{"&&n.charAt(1)=="{")){let n=Di(0,0,"");return n.dynamic=!0,n.strValue=e,n}let r=Ae(e,t);return Di(r.duration,r.delay,r.easing)}function Zt(s){return s?(s=Kt({},s),s.params&&(s.params=Cs(s.params))):s={},s}function Di(s,t,e){return{duration:s,delay:t,easing:e}}function qi(s,t,e,i,r,n,a=null,l=!1){return{type:1,element:s,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:n,totalTime:r+n,easing:a,subTimeline:l}}var xe=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},xs=1,Ps=":enter",Ns=new RegExp(Ps,"g"),Os=":leave",Fs=new RegExp(Os,"g");function On(s,t,e,i,r,n=new Map,a=new Map,l,d,f=[]){return new Mi().buildKeyframes(s,t,e,i,r,n,a,l,d,f)}var Mi=class{buildKeyframes(t,e,i,r,n,a,l,d,f,_=[]){f=f||new xe;let c=new zi(t,e,f,r,n,_,[]);c.options=d;let y=d.delay?Ot(d.delay):0;c.currentTimeline.delayNextStep(y),c.currentTimeline.setStyles([a],null,c.errors,d),Et(this,i,c);let h=c.timelines.filter(p=>p.containsAnimation());if(h.length&&l.size){let p;for(let m=h.length-1;m>=0;m--){let v=h[m];if(v.element===e){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([l],null,c.errors,d)}return h.length?h.map(p=>p.buildKeyframes()):[qi(e,[],[],[],0,y,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),n=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);n!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let n=r?.delay;if(n){let a=typeof n=="number"?n:Ot(me(n,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let n=e.currentTimeline.currentTime,a=i.duration!=null?Ot(i.duration):null,l=i.delay!=null?Ot(i.delay):null;return a!==0&&t.forEach(d=>{let f=e.appendInstructionToTimeline(d,a,l);n=Math.max(n,f.duration+f.delay)}),n}visitReference(t,e){e.updateOptions(t.options,!0),Et(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,n=t.options;if(n&&(n.params||n.delay)&&(r=e.createSubContext(n),r.transformIntoNewTimeline(),n.delay!=null)){r.previousNode.type==st.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=si);let a=Ot(n.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Et(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,n=t.options&&t.options.delay?Ot(t.options.delay):0;t.steps.forEach(a=>{let l=e.createSubContext(t.options);n&&l.delayNextStep(n),Et(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?me(i,e.params,e.errors):i;return Ae(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let n=t.style;n.type==st.Keyframes?this.visitKeyframes(n,e):(e.incrementTime(i.duration),this.visitStyle(n,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let n=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(n):i.setStyles(t.styles,n,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,n=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(d=>{let f=d.offset||0;l.forwardTime(f*n),l.setStyles(d.styles,d.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+n),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},n=r.delay?Ot(r.delay):0;n&&(e.previousNode.type===st.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=si);let a=i,l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let d=null;l.forEach((f,_)=>{e.currentQueryIndex=_;let c=e.createSubContext(t.options,f);n&&c.delayNextStep(n),f===e.element&&(d=c.currentTimeline),Et(this,t.animation,c),c.currentTimeline.applyStylesToKeyframe();let y=c.currentTimeline.currentTime;a=Math.max(a,y)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,n=t.timings,a=Math.abs(n.duration),l=a*(e.currentQueryTotal-1),d=a*e.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let _=e.currentTimeline;d&&_.delayNextStep(d);let c=_.currentTime;Et(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-c+(r.startTime-i.currentTimeline.startTime)}},si={},zi=class s{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=si;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,n,a,l,d){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=n,this.errors=a,this.timelines=l,this.currentTimeline=d||new ai(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Ot(i.duration)),i.delay!=null&&(r.delay=Ot(i.delay));let n=i.params;if(n){let a=r.params;a||(a=this.options.params={}),Object.keys(n).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=me(n[l],a,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,n=new s(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(t),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(t){return this.previousNode=si,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},n=new Ri(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(n),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,n,a){let l=[];if(r&&l.push(this.element),t.length>0){t=t.replace(Ns,"."+this._enterClassName),t=t.replace(Fs,"."+this._leaveClassName);let d=i!=1,f=this._driver.query(this.element,t,d);i!==0&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),l.push(...f)}return!n&&l.length==0&&a.push(tn(e)),l}},ai=class s{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new s(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xs,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||At),this._currentKeyframe.set(e,At);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let n=r&&r.params||{},a=Is(t,this._globalTimelineStyles);for(let[l,d]of a){let f=me(d,n,i);this._pendingStyles.set(l,f),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??At),this._updateStyle(l,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let f=new Map([...this._backFill,...l]);f.forEach((_,c)=>{_===Ee?t.add(c):_===At&&e.add(c)}),i||f.set("offset",d/this.duration),r.push(f)});let n=[...t.values()],a=[...e.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return qi(this.element,r,n,a,this.duration,this.startTime,this.easing,!1)}},Ri=class extends ai{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,n,a,l=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=n,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let n=[],a=i+e,l=e/a,d=new Map(t[0]);d.set("offset",0),n.push(d);let f=new Map(t[0]);f.set("offset",wn(l)),n.push(f);let _=t.length-1;for(let c=1;c<=_;c++){let y=new Map(t[c]),h=y.get("offset"),p=e+h*i;y.set("offset",wn(p/a)),n.push(y)}i=a,e=0,r="",t=n}return qi(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function wn(s,t=3){let e=Math.pow(10,t-1);return Math.round(s*e)/e}function Is(s,t){let e=new Map,i;return s.forEach(r=>{if(r==="*"){i??=t.keys();for(let n of i)e.set(n,At)}else for(let[n,a]of r)e.set(n,a)}),e}function En(s,t,e,i,r,n,a,l,d,f,_,c,y){return{type:0,element:s,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:n,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:_,totalTime:c,errors:y}}var xi={},oi=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return Ms(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,n,a,l,d,f,_){let c=[],y=this.ast.options&&this.ast.options.params||xi,h=l&&l.params||xi,p=this.buildStyles(i,h,c),m=d&&d.params||xi,v=this.buildStyles(r,m,c),w=new Set,T=new Map,E=new Map,F=r==="void",O={params:Fn(m,y),delay:this.ast.options?.delay},B=_?[]:On(t,e,this.ast.animation,n,a,p,v,O,f,c),P=0;return B.forEach(U=>{P=Math.max(U.duration+U.delay,P)}),c.length?En(e,this._triggerName,i,r,F,p,v,[],[],T,E,P,c):(B.forEach(U=>{let Y=U.element,S=wt(T,Y,new Set);U.preStyleProps.forEach(u=>S.add(u));let I=wt(E,Y,new Set);U.postStyleProps.forEach(u=>I.add(u)),Y!==e&&w.add(Y)}),En(e,this._triggerName,i,r,F,p,v,B,[...w.values()],T,E,P))}};function Ms(s,t,e,i,r){return s.some(n=>n(t,e,i,r))}function Fn(s,t){let e=Kt({},t);return Object.entries(s).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var Bi=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=Fn(t,this.defaultParams);return this.styles.styles.forEach(n=>{typeof n!="string"&&n.forEach((a,l)=>{a&&(a=me(a,r,e));let d=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,d,a,e),i.set(l,a)})}),i}};function zs(s,t,e){return new Li(s,t,e)}var Li=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let n=r.options&&r.options.params||{};this.states.set(r.name,new Bi(r.style,n,i))}),kn(this.states,"true","1"),kn(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new oi(t,r,this.states))}),this.fallbackTransition=Rs(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function Rs(s,t,e){let i=[(a,l)=>!0],r={type:st.Sequence,steps:[],options:null},n={type:st.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new oi(s,n,t)}function kn(s,t,e){s.has(t)?s.has(e)||s.set(e,s.get(t)):s.has(e)&&s.set(t,s.get(e))}var Bs=new xe,ji=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],n=Nn(this._driver,e,i,r);if(i.length)throw sn(i);this._animations.set(t,n)}_buildPlayer(t,e,i){let r=t.element,n=bi(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,n,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],n=this._animations.get(t),a,l=new Map;if(n?(a=On(this._driver,e,n,Ti,Ge,new Map,new Map,i,Bs,r),a.forEach(_=>{let c=wt(l,_.element,new Map);_.postStyleProps.forEach(y=>c.set(y,null))})):(r.push(an()),a=[]),r.length)throw on(r);l.forEach((_,c)=>{_.forEach((y,h)=>{_.set(h,this._driver.computeStyle(c,h,At))})});let d=a.map(_=>{let c=l.get(_.element);return this._buildPlayer(_,new Map,c)}),f=zt(d);return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw ln(t);return e}listen(t,e,i,r){let n=Ze(e,"","","");return $e(this._getPlayer(t),i,n,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(t,e,a);return}let n=this._getPlayer(t);switch(i){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},Tn="ng-animate-queued",Ls=".ng-animate-queued",Pi="ng-animate-disabled",js=".ng-animate-disabled",Us="ng-star-inserted",Vs=".ng-star-inserted",Ws=[],In={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ks={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xt="__ng_removed",Pe=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=$s(r),i){let n=t,{value:a}=n,l=Yi(n,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},De="void",Ni=new Pe(De),Ui=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Ct(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw un(i,e);if(i==null||i.length==0)throw cn(e);if(!Zs(i))throw hn(i,e);let n=wt(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};n.push(a);let l=wt(this._engine.statesByElement,t,new Map);return l.has(e)||(Ct(t,Te),Ct(t,Te+"-"+e),l.set(e,Ni)),()=>{this._engine.afterFlush(()=>{let d=n.indexOf(a);d>=0&&n.splice(d,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw dn(t);return e}trigger(t,e,i,r=!0){let n=this._getTrigger(e),a=new Ne(this.id,e,t),l=this._engine.statesByElement.get(t);l||(Ct(t,Te),Ct(t,Te+"-"+e),this._engine.statesByElement.set(t,l=new Map));let d=l.get(e),f=new Pe(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l.set(e,f),d||(d=Ni),!(f.value===De)&&d.value===f.value){if(!Hs(d.params,f.params)){let m=[],v=n.matchStyles(d.value,d.params,m),w=n.matchStyles(f.value,f.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Wt(t,v),Dt(t,w)})}return}let y=wt(this._engine.playersByElement,t,[]);y.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let h=n.matchTransition(d.value,f.value,t,f.params),p=!1;if(!h){if(!r)return;h=n.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:d,toState:f,player:a,isFallbackTransition:p}),p||(Ct(t,Tn),a.onStart(()=>{pe(t,Tn)})),a.onDone(()=>{let m=this.players.indexOf(a);m>=0&&this.players.splice(m,1);let v=this._engine.playersByElement.get(t);if(v){let w=v.indexOf(a);w>=0&&v.splice(w,1)}}),this.players.push(a),y.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,Ce,!0);i.forEach(r=>{if(r[xt])return;let n=this._engine.fetchNamespacesByElement(r);n.size?n.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let n=this._engine.statesByElement.get(t),a=new Map;if(n){let l=[];if(n.forEach((d,f)=>{if(a.set(f,d.value),this._triggers.has(f)){let _=this.trigger(t,f,De,r);_&&l.push(_)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&zt(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(n=>{let a=n.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,f=i.get(a)||Ni,_=new Pe(De),c=new Ne(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:d,fromState:f,toState:_,player:c,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let n=i.players.length?i.playersByQueriedElement.get(t):[];if(n&&n.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let n=t[xt];(!n||n===In)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ct(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let n=i.element,a=this._elementListeners.get(n);a&&a.forEach(l=>{if(l.name==i.triggerName){let d=Ze(n,i.triggerName,i.fromState.value,i.toState.value);d._data=t,$e(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let n=i.transition.ast.depCount,a=r.transition.ast.depCount;return n==0||a==0?n-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Vi=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new Ui(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){let d=r.get(l);if(d){let f=i.indexOf(d);i.splice(f+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let n=this._fetchNamespace(r.namespaceId);n&&e.add(n)}}return e}trigger(t,e,i,r){if(ei(e)){let n=this._fetchNamespace(t);if(n)return n.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ei(e))return;let n=e[xt];if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){let a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ct(t,Pi)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pe(t,Pi))}removeNode(t,e,i){if(ei(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,n){this.collectedLeaveElements.push(e),e[xt]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:n}}listen(t,e,i,r,n){return ei(e)?this._fetchNamespace(t).listen(e,i,r,n):()=>{}}_buildInstruction(t,e,i,r,n){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,n)}destroyInnerAnimations(t){let e=this.driver.query(t,Ce,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,He,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zt(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[xt];if(e&&e.setForRemoval){if(t[xt]=In,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Pi)&&this.markElementAsDisabled(t,!1),this.driver.query(t,js,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Ct(r,Us)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?zt(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw fn(t)}_flushAnimations(t,e){let i=new xe,r=[],n=new Map,a=[],l=new Map,d=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(L=>{_.add(L);let x=this.driver.query(L,Ls,!0);for(let V=0;V<x.length;V++)_.add(x[V])});let c=this.bodyNode,y=Array.from(this.statesByElement.keys()),h=Dn(y,this.collectedEnterElements),p=new Map,m=0;h.forEach((L,x)=>{let V=Ti+m++;p.set(x,V),L.forEach(C=>Ct(C,V))});let v=[],w=new Set,T=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){let x=this.collectedLeaveElements[L],V=x[xt];V&&V.setForRemoval&&(v.push(x),w.add(x),V.hasAnimation?this.driver.query(x,Vs,!0).forEach(C=>w.add(C)):T.add(x))}let E=new Map,F=Dn(y,Array.from(w));F.forEach((L,x)=>{let V=Ge+m++;E.set(x,V),L.forEach(C=>Ct(C,V))}),t.push(()=>{h.forEach((L,x)=>{let V=p.get(x);L.forEach(C=>pe(C,V))}),F.forEach((L,x)=>{let V=E.get(x);L.forEach(C=>pe(C,V))}),v.forEach(L=>{this.processLeaveNode(L)})});let O=[],B=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(e).forEach(V=>{let C=V.player,A=V.element;if(O.push(C),this.collectedEnterElements.length){let et=A[xt];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(V.triggerName)){let ct=et.previousTriggersValues.get(V.triggerName),at=this.statesByElement.get(V.element);if(at&&at.has(V.triggerName)){let bt=at.get(V.triggerName);bt.value=ct,at.set(V.triggerName,bt)}}C.destroy();return}}let H=!c||!this.driver.containsElement(c,A),Z=E.get(A),K=p.get(A),rt=this._buildInstruction(V,i,K,Z,H);if(rt.errors&&rt.errors.length){B.push(rt);return}if(H){C.onStart(()=>Wt(A,rt.fromStyles)),C.onDestroy(()=>Dt(A,rt.toStyles)),r.push(C);return}if(V.isFallbackTransition){C.onStart(()=>Wt(A,rt.fromStyles)),C.onDestroy(()=>Dt(A,rt.toStyles)),r.push(C);return}let mt=[];rt.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||mt.push(et)}),rt.timelines=mt,i.append(A,rt.timelines);let nt={instruction:rt,player:C,element:A};a.push(nt),rt.queriedElements.forEach(et=>wt(l,et,[]).push(C)),rt.preStyleProps.forEach((et,ct)=>{if(et.size){let at=d.get(ct);at||d.set(ct,at=new Set),et.forEach((bt,St)=>at.add(St))}}),rt.postStyleProps.forEach((et,ct)=>{let at=f.get(ct);at||f.set(ct,at=new Set),et.forEach((bt,St)=>at.add(St))})});if(B.length){let L=[];B.forEach(x=>{L.push(mn(x.triggerName,x.errors))}),O.forEach(x=>x.destroy()),this.reportError(L)}let P=new Map,U=new Map;a.forEach(L=>{let x=L.element;i.has(x)&&(U.set(x,x),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,P))}),r.forEach(L=>{let x=L.element;this._getPreviousPlayers(x,!1,L.namespaceId,L.triggerName,null).forEach(C=>{wt(P,x,[]).push(C),C.destroy()})});let Y=v.filter(L=>xn(L,d,f)),S=new Map;An(S,this.driver,T,f,At).forEach(L=>{xn(L,d,f)&&Y.push(L)});let u=new Map;h.forEach((L,x)=>{An(u,this.driver,new Set(L),d,Ee)}),Y.forEach(L=>{let x=S.get(L),V=u.get(L);S.set(L,new Map([...x?.entries()??[],...V?.entries()??[]]))});let z=[],it=[],W={};a.forEach(L=>{let{element:x,player:V,instruction:C}=L;if(i.has(x)){if(_.has(x)){V.onDestroy(()=>Dt(x,C.toStyles)),V.disabled=!0,V.overrideTotalTime(C.totalTime),r.push(V);return}let A=W;if(U.size>1){let Z=x,K=[];for(;Z=Z.parentNode;){let rt=U.get(Z);if(rt){A=rt;break}K.push(Z)}K.forEach(rt=>U.set(rt,A))}let H=this._buildAnimation(V.namespaceId,C,P,n,u,S);if(V.setRealPlayer(H),A===W)z.push(V);else{let Z=this.playersByElement.get(A);Z&&Z.length&&(V.parentPlayer=zt(Z)),r.push(V)}}else Wt(x,C.fromStyles),V.onDestroy(()=>Dt(x,C.toStyles)),it.push(V),_.has(x)&&r.push(V)}),it.forEach(L=>{let x=n.get(L.element);if(x&&x.length){let V=zt(x);L.setRealPlayer(V)}}),r.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<v.length;L++){let x=v[L],V=x[xt];if(pe(x,Ge),V&&V.hasAnimation)continue;let C=[];if(l.size){let H=l.get(x);H&&H.length&&C.push(...H);let Z=this.driver.query(x,He,!0);for(let K=0;K<Z.length;K++){let rt=l.get(Z[K]);rt&&rt.length&&C.push(...rt)}}let A=C.filter(H=>!H.destroyed);A.length?Qs(this,x,A):this.processLeaveNode(x)}return v.length=0,z.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();let x=this.players.indexOf(L);this.players.splice(x,1)}),L.play()}),z}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,n){let a=[];if(e){let l=this.playersByQueriedElement.get(t);l&&(a=l)}else{let l=this.playersByElement.get(t);if(l){let d=!n||n==De;l.forEach(f=>{f.queued||!d&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(t,e,i){let r=e.triggerName,n=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:r;for(let d of e.timelines){let f=d.element,_=f!==n,c=wt(i,f,[]);this._getPreviousPlayers(f,_,a,l,e.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),c.push(h)})}Wt(n,e.fromStyles)}_buildAnimation(t,e,i,r,n,a){let l=e.triggerName,d=e.element,f=[],_=new Set,c=new Set,y=e.timelines.map(p=>{let m=p.element;_.add(m);let v=m[xt];if(v&&v.removedBeforeQueried)return new qt(p.duration,p.delay);let w=m!==d,T=Gs((i.get(m)||Ws).map(P=>P.getRealPlayer())).filter(P=>{let U=P;return U.element?U.element===m:!1}),E=n.get(m),F=a.get(m),O=bi(this._normalizer,p.keyframes,E,F),B=this._buildPlayer(p,O,T);if(p.subTimeline&&r&&c.add(m),w){let P=new Ne(t,l,m);P.setRealPlayer(B),f.push(P)}return B});f.forEach(p=>{wt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>qs(this.playersByQueriedElement,p.element,p))}),_.forEach(p=>Ct(p,Ci));let h=zt(y);return h.onDestroy(()=>{_.forEach(p=>pe(p,Ci)),Dt(d,e.toStyles)}),c.forEach(p=>{wt(r,p,[]).push(h)}),h}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new qt(t.duration,t.delay)}},Ne=class{namespaceId;triggerName;element;_player=new qt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>$e(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){wt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function qs(s,t,e){let i=s.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&s.delete(t)}return i}function $s(s){return s??null}function ei(s){return s&&s.nodeType===1}function Zs(s){return s=="start"||s=="done"}function Cn(s,t){let e=s.style.display;return s.style.display=t??"none",e}function An(s,t,e,i,r){let n=[];e.forEach(d=>n.push(Cn(d)));let a=[];i.forEach((d,f)=>{let _=new Map;d.forEach(c=>{let y=t.computeStyle(f,c,r);_.set(c,y),(!y||y.length==0)&&(f[xt]=Ks,a.push(f))}),s.set(f,_)});let l=0;return e.forEach(d=>Cn(d,n[l++])),a}function Dn(s,t){let e=new Map;if(s.forEach(l=>e.set(l,[])),t.length==0)return e;let i=1,r=new Set(t),n=new Map;function a(l){if(!l)return i;let d=n.get(l);if(d)return d;let f=l.parentNode;return e.has(f)?d=f:r.has(f)?d=i:d=a(f),n.set(l,d),d}return t.forEach(l=>{let d=a(l);d!==i&&e.get(d).push(l)}),e}function Ct(s,t){s.classList?.add(t)}function pe(s,t){s.classList?.remove(t)}function Qs(s,t,e){zt(e).onDone(()=>s.processLeaveNode(t))}function Gs(s){let t=[];return Mn(s,t),t}function Mn(s,t){for(let e=0;e<s.length;e++){let i=s[e];i instanceof Ve?Mn(i.players,t):t.push(i)}}function Hs(s,t){let e=Object.keys(s),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let n=e[r];if(!t.hasOwnProperty(n)||s[n]!==t[n])return!1}return!0}function xn(s,t,e){let i=e.get(s);if(!i)return!1;let r=t.get(s);return r?i.forEach(n=>r.add(n)):t.set(s,i),e.delete(s),!0}var ge=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new Vi(t.body,e,i),this._timelineEngine=new ji(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,n)=>this.onRemovalComplete(r,n)}registerTrigger(t,e,i,r,n){let a=t+"-"+r,l=this._triggerCache[a];if(!l){let d=[],f=[],_=Nn(this._driver,n,d,f);if(d.length)throw nn(r,d);l=zs(r,_,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[n,a]=Si(i),l=r;this._timelineEngine.command(n,e,a,l)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,n){if(i.charAt(0)=="@"){let[a,l]=Si(i);return this._timelineEngine.listen(a,e,l,n)}return this._transitionEngine.listen(t,e,i,r,n)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Js(s,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Oi(t[0]),t.length>1&&(i=Oi(t[t.length-1]))):t instanceof Map&&(e=Oi(t)),e||i?new Ys(s,e,i):null}var Ys=(()=>{class s{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let n=s.initialStylesByElement.get(e);n||s.initialStylesByElement.set(e,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&Dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dt(this._element,this._initialStyles),this._endStyles&&(Dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(Wt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wt(this._element,this._endStyles),this._endStyles=null),Dt(this._element,this._initialStyles),this._state=3)}}return s})();function Oi(s){let t=null;return s.forEach((e,i)=>{Xs(i)&&(t=t||new Map,t.set(i,e))}),t}function Xs(s){return s==="display"||s==="position"}var li=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:Ye(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},ui=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return wi(t,e)}getParentElement(t){return Qe(t)}query(t,e,i){return Ei(t,e,i)}computeStyle(t,e,i){return Ye(t,e)}animate(t,e,i,r,n,a=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};n&&(d.easing=n);let f=new Map,_=a.filter(h=>h instanceof li);yn(i,r)&&_.forEach(h=>{h.currentSnapshot.forEach((p,m)=>f.set(m,p))});let c=gn(e).map(h=>new Map(h));c=vn(t,c,f);let y=Js(t,c);return new li(t,c,d,y)}};var ii="@",zn="@.disabled",ci=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==ii&&e==zn?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Wi=class extends ci{factory;constructor(t,e,i,r,n){super(e,i,r,n),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==ii?e.charAt(1)=="."&&e==zn?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==ii){let n=ta(t),a=e.slice(1),l="";return a.charAt(0)!=ii&&([a,l]=ea(a)),this.engine.listen(this.namespaceId,n,a,l,d=>{let f=d._data||-1;this.factory.scheduleListenerCallback(f,i,d)})}return this.delegate.listen(t,e,i,r)}};function ta(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}function ea(s){let t=s.indexOf("."),e=s.substring(0,t),i=s.slice(t+1);return[e,i]}var hi=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,n)=>{n?.removeChild(null,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let f=this._rendererCache,_=f.get(r);if(!_){let c=()=>f.delete(r);_=new ci(i,r,this.engine,c),f.set(r,_)}return _}let n=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);let l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(n,a,t,f.name,f)};return e.data.animation.forEach(l),new Wi(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(n=>{let[a,l]=n;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var ra=(()=>{class s extends ge{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||s)(Re(ir),Re(Qt),Re(Gt))};static \u0275prov=Rt({token:s,factory:s.\u0275fac})}return s})();function na(){return new ri}function sa(s,t,e){return new hi(s,t,e)}var Bn=[{provide:Gt,useFactory:na},{provide:ge,useClass:ra},{provide:sr,useFactory:sa,deps:[pr,ge,lr]}],aa=[{provide:Qt,useClass:Ki},{provide:mi,useValue:"NoopAnimations"},...Bn],Rn=[{provide:Qt,useFactory:()=>new ui},{provide:mi,useFactory:()=>"BrowserAnimations"},...Bn],Ln=(()=>{class s{static withConfig(e){return{ngModule:s,providers:e.disableAnimations?aa:Rn}}static \u0275fac=function(i){return new(i||s)};static \u0275mod=ar({type:s});static \u0275inj=tr({providers:Rn,imports:[_r]})}return s})();var $i=()=>{let s=ut(Ke);return s.hasChangedForm()?ut(Nt).showCustomConfirm("\u0414\u0430\u043D\u043D\u044B\u0435 \u0444\u043E\u0440\u043C\u044B \u043D\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B","\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u043F\u0435\u0440\u0435\u0445\u043E\u0434\u0430",[{title:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0444\u043E\u0440\u043C\u0443 \u0438 \u043F\u0435\u0440\u0435\u0439\u0442\u0438",color:"success",value:1},{title:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0431\u0435\u0437 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F",color:"warn",value:2},{title:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u0435\u0440\u0435\u0445\u043E\u0434",color:"primary",value:3}],"Vertical").pipe(fi(e=>{switch(e){case 1:return s.saveForm().pipe(fi(()=>Se(!0)));case 2:return Se(!0);default:return Se(!1)}})):Se(!0)};var Vn=Xi(Un());var oa={forms:[],isLoadingState:!1},Oe=(()=>{let t=class t extends Ar{constructor(){super(oa),this.isLoadingState=this.selectSignal(i=>i.isLoadingState),this.formsList$=this.select(i=>i.forms),this.formsListSig$=this.selectSignal(i=>i.forms),this.formsDBService=ut(We)}ngrxOnStoreInit(){this.patchState({forms:[],isLoadingState:!0}),this.formsDBService.getList().pipe(ze(()=>this.patchState({isLoadingState:!1}))).subscribe(i=>{this.patchState({forms:i})})}reload(){this.ngrxOnStoreInit()}importForm(i){this.patchState({isLoadingState:!0}),this.formsDBService.insert(i).pipe(ze(()=>this.patchState({isLoadingState:!1}))).subscribe(r=>{this.setState(n=>(n.forms.push(r),Kt({},n)))})}removeForm(i){this.patchState({isLoadingState:!0}),this.formsDBService.remove(i).pipe(ze(()=>this.patchState({isLoadingState:!1}))).subscribe(()=>{this.setState(r=>(r.forms=r.forms.filter(n=>n.id!==i),Kt({},r)))})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var Wn=(()=>{let t=class t{constructor(){this.formsDBService=ut(We),this.formsStore=ut(Oe),this.dtoStore=ut(he),this.sourceDataStore=ut(de)}import(){return Me(this,null,function*(){let i=yield fetch("assets/demo/demo.zip",{headers:{Accept:"application/zip"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);let r=new Vn.default,n=yield i.blob(),a=yield r.loadAsync(n);for(let l of Object.keys(a.files)){let d=yield a.file(l)?.async("string");if(!d)continue;let f;try{f=JSON.parse(d)}catch{continue}switch(l.split(".").shift()?.toLowerCase()){case"dto":this.dtoStore.importDto(f);break;case"ds":this.sourceDataStore.importDataSource(f);break;case"form":this.formsStore.importForm(f);break}}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var Kn=Xi(ns());var la=["jsonElement"],qn=(()=>{let t=class t extends Mr{constructor(){super(...arguments),this.title="DTO",this.controlName=new Pr("",[xr.required,Rr.notEmptyValue]),this.destroyRef=ut(rr),this.jsonEditor=null}ngOnInit(){this.title=this.dto.id?"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 DTO":"\u041D\u043E\u0432\u043E\u0435 DTO",this.controlName.setValue(this.dto.name),this.controlName.valueChanges.pipe(Cr(this.destroyRef)).subscribe(i=>this.dto.name=i.trim())}ngAfterViewInit(){this.jsonElementRef?.nativeElement&&(this.jsonEditor=new Kn.default(this.jsonElementRef.nativeElement,{mode:"text",mainMenuBar:!0,history:!0,enableSort:!1,enableTransform:!1,language:"ru"},this.dto.source))}ngOnDestroy(){this.jsonEditor&&this.jsonEditor.destroy()}onApply(){this.jsonEditor&&this.controlName.valid&&this.jsonEditor.validate().then(i=>{i.length===0&&(this.dto.source=this.jsonEditor?.get()??{},this.closePanel(this.dto))})}onClosePanel(){this.closePanel(null)}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=nr(t)))(n||t)}})(),t.\u0275cmp=Tt({type:t,selectors:[["dto-edit"]],viewQuery:function(r,n){if(r&1&&ur(la,5),r&2){let a;cr(a=hr())&&(n.jsonElementRef=a.first)}},inputs:{dto:"dto"},features:[or],decls:8,vars:2,consts:[["jsonElement",""],["applyButtonTitle","\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C DTO",1,"flex-auto",3,"closeEvent","applyEvent","title"],["label","\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 DTO",3,"formControl"],[1,"flex-col","flex-auto","mt-10"],[1,"text-bold"],[1,"flex-auto","mt-10"]],template:function(r,n){if(r&1){let a=Bt();Q(0,"panel-container",1),dt("closeEvent",function(){return pt(a),gt(n.onClosePanel())})("applyEvent",function(){return pt(a),gt(n.onApply())}),Q(1,"div"),yt(2,"jst-input",2),J(),Q(3,"div",3)(4,"div",4),tt(5,"\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 JSON \u0434\u043B\u044F DTO"),J(),yt(6,"div",5,0),J()()}r&2&&(pi("title",n.title),_t(2),pi("formControl",n.controlName))},dependencies:[zr,Or,Nr],styles:["[_nghost-%COMP%]{flex:auto;display:flex;flex-direction:column;width:800px;background-color:#fff;box-sizing:border-box}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper, [_nghost-%COMP%]     .mat-mdc-form-field-bottom-align{display:none}"],changeDetection:0});let s=t;return s})();var ua=(s,t)=>t.id;function ca(s,t){if(s&1){let e=Bt();Q(0,"div",8),dt("dblclick",function(){let r=pt(e).$implicit,n=vt();return gt(n.onEditDto(r))}),Q(1,"div",9),tt(2),J(),Q(3,"button",10),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onEditDto(r))}),Q(4,"mat-icon"),tt(5,"edit"),J()(),Q(6,"button",11),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onExportDto(r))}),Q(7,"mat-icon"),tt(8,"download"),J()(),Q(9,"button",12),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onRemoveDto(r))}),Q(10,"mat-icon"),tt(11,"delete"),J()()()}if(s&2){let e=t.$implicit;_t(2),Be("#",e.id," ",e.name)}}function ha(s,t){s&1&&(Q(0,"div",6),tt(1,"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445"),J())}function da(s,t){s&1&&(Q(0,"div",7),yt(1,"mat-spinner"),Q(2,"div",13),tt(3,"\u041F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435, \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430..."),J()())}var Qn=(()=>{let t=class t{constructor(){this.dtoStore=ut(he),this.slidePanelService=ut(qe),this.jstDialogService=ut(Nt)}onRemoveDto(i){this.jstDialogService.showConfirm("\u0412\u044B \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u043E DTO?","\u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 DTO","\u0423\u0434\u0430\u043B\u0438\u0442\u044C DTO").subscribe(r=>{r&&this.dtoStore.removeDto(Number(i.id))})}onImportDto(){It.uploadJson().subscribe(i=>{this.dtoStore.importDto(i)})}onExportDto(i){let r=JSON.parse(JSON.stringify(i));delete r.id,It.downloadJson(r,`DTO - ${i.name}.json`)}onEditDto(i){this.editDto(JSON.parse(JSON.stringify(i)))}onAddDto(){this.editDto({id:null,name:"\u041D\u043E\u0432\u043E\u0435 DTO",source:{}})}editDto(i){this.slidePanelService.showPanel$(qn,{dto:i},{disabledClose:!1}).subscribe(r=>{r&&this.dtoStore.saveDto(r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["dto-list"]],decls:22,vars:4,consts:[["appearance","outlined",1,"flex-auto","with-header-line"],[1,"with-buttons"],["mat-button","","color","primary",3,"click"],[1,"scroll-container"],[1,"scroll","flex-col"],[1,"card-list-item"],[1,"empty-message"],[1,"loading-container"],[1,"card-list-item",3,"dblclick"],[1,"card-list-item-name"],["mat-icon-button","","color","primary","title","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u0430\u043D\u043D\u044B\u0445",3,"click"],["mat-icon-button","","color","primary","title","\u0421\u043A\u0430\u0447\u0430\u0442\u044C JSON \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445",3,"click"],["mat-icon-button","","color","accent","title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u0430\u043D\u043D\u044B\u0445",3,"click"],[1,"loading-container__message"]],template:function(r,n){r&1&&(Q(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),tt(3,"\u041F\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 (DTO)"),J(),Q(4,"button",2),dt("click",function(){return n.onAddDto()}),Q(5,"mat-icon"),tt(6,"add"),J(),Q(7,"span"),tt(8,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"),J()(),Q(9,"button",2),dt("click",function(){return n.onImportDto()}),Q(10,"mat-icon"),tt(11,"upload"),J(),Q(12,"span"),tt(13,"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C"),J()()(),Q(14,"mat-card-content")(15,"div",3)(16,"div",4),Yt(17,ca,12,2,"div",5,ua,!1,ha,2,0,"div",6),te(20,"async"),J()(),Ht(21,da,4,0,"div",7),J()()),r&2&&(_t(17),Xt(ee(20,2,n.dtoStore.dtoList$)),_t(4),Jt(n.dtoStore.isLoadingState()?21:-1))},dependencies:[ie,jt,Lt,Vt,Ut,re,se,ne,ce,ae,le,ue,oe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:10px}"],changeDetection:0});let s=t;return s})();var fa=(s,t)=>t.id;function ma(s,t){if(s&1){let e=Bt();Q(0,"div",8),dt("dblclick",function(){let r=pt(e).$implicit,n=vt();return gt(n.onEditForm(r))}),Q(1,"div",9),tt(2),J(),Q(3,"button",10),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onEditForm(r))}),Q(4,"mat-icon"),tt(5,"edit"),J()(),Q(6,"button",11),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onViewForm(r))}),Q(7,"mat-icon"),tt(8,"visibility"),J()(),Q(9,"button",12),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onExportForm(r))}),Q(10,"mat-icon"),tt(11,"download"),J()(),Q(12,"button",13),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onRemoveForm(r))}),Q(13,"mat-icon"),tt(14,"delete"),J()()()}if(s&2){let e=t.$implicit;_t(2),we(" ",e.name," ")}}function pa(s,t){s&1&&(Q(0,"div",6),tt(1,"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445"),J())}function ga(s,t){s&1&&(Q(0,"div",7),yt(1,"mat-spinner"),Q(2,"div",14),tt(3,"\u041F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435, \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430..."),J()())}var Gn=(()=>{let t=class t{constructor(){this.formsStore=ut(Oe),this.router=ut(br),this.jstDialogService=ut(Nt)}onEditForm(i){this.router.navigate([je,i?.id??kr])}onViewForm(i){this.router.navigate([Ue,i.id])}onImportForm(){It.uploadJson().subscribe(i=>{this.formsStore.importForm(i)})}onExportForm(i){let r=JSON.parse(JSON.stringify(i));delete r.id,It.downloadJson(r,`${i.name}.json`)}onRemoveForm(i){this.jstDialogService.showConfirm("\u0412\u044B \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u0443 \u0444\u043E\u0440\u043C\u0443?","\u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u0444\u043E\u0440\u043C\u044B","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0444\u043E\u0440\u043C\u0443").subscribe(r=>{r&&this.formsStore.removeForm(Number(i.id))})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["forms-list"]],features:[fr([ke(Oe)])],decls:22,vars:4,consts:[["appearance","outlined",1,"flex-auto","with-header-line"],[1,"with-buttons"],["mat-button","","color","primary",3,"click"],[1,"scroll-container"],[1,"scroll","flex-col"],[1,"card-list-item"],[1,"empty-message"],[1,"loading-container"],[1,"card-list-item",3,"dblclick"],[1,"card-list-item-name"],["mat-icon-button","","color","primary","title","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0444\u043E\u0440\u043C\u0443",3,"click"],["mat-icon-button","","color","primary","title","\u041F\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0444\u043E\u0440\u043C\u044B",3,"click"],["mat-icon-button","","color","primary","title","\u0421\u043A\u0430\u0447\u0430\u0442\u044C JSON \u0444\u043E\u0440\u043C\u044B",3,"click"],["mat-icon-button","","color","accent","title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0444\u043E\u0440\u043C\u0443",3,"click"],[1,"loading-container__message"]],template:function(r,n){r&1&&(Q(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),tt(3,"\u0424\u043E\u0440\u043C\u044B"),J(),Q(4,"button",2),dt("click",function(){return n.onEditForm()}),Q(5,"mat-icon"),tt(6,"add"),J(),Q(7,"span"),tt(8,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"),J()(),Q(9,"button",2),dt("click",function(){return n.onImportForm()}),Q(10,"mat-icon"),tt(11,"upload"),J(),Q(12,"span"),tt(13,"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C"),J()()(),Q(14,"mat-card-content")(15,"div",3)(16,"div",4),Yt(17,ma,15,1,"div",5,fa,!1,pa,2,0,"div",6),te(20,"async"),J()(),Ht(21,ga,4,0,"div",7),J()()),r&2&&(_t(17),Xt(ee(20,2,n.formsStore.formsList$)),_t(4),Jt(n.formsStore.isLoadingState()?21:-1))},dependencies:[ie,jt,Lt,Vt,Ut,re,se,ne,ce,ae,le,ue,oe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:10px}"],changeDetection:0});let s=t;return s})();var _a=(s,t)=>t.id;function ya(s,t){if(s&1){let e=Bt();Q(0,"div",8),dt("dblclick",function(){let r=pt(e).$implicit,n=vt();return gt(n.onEditSourceData(r))}),Q(1,"div",9),tt(2),Q(3,"strong"),tt(4),J(),tt(5),J(),Q(6,"button",10),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onEditSourceData(r))}),Q(7,"mat-icon"),tt(8,"edit"),J()(),Q(9,"button",11),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onExportSourceData(r))}),Q(10,"mat-icon"),tt(11,"download"),J()(),Q(12,"button",12),dt("click",function(){let r=pt(e).$implicit,n=vt();return gt(n.onRemoveSourceData(r))}),Q(13,"mat-icon"),tt(14,"delete"),J()()()}if(s&2){let e=t.$implicit;_t(2),we(" #",e.id," "),_t(2),dr(e.type==="request"?"\u0417\u0430\u043F\u0440\u043E\u0441:":"\u0421\u043F\u0438\u0441\u043E\u043A:"),_t(),we(" ",e.name," ")}}function va(s,t){s&1&&(Q(0,"div",6),tt(1,"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445"),J())}function ba(s,t){s&1&&(Q(0,"div",7),yt(1,"mat-spinner"),Q(2,"div",13),tt(3,"\u041F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435, \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430..."),J()())}var Hn=(()=>{let t=class t{constructor(){this.sourceDataStore=ut(de),this.slidePanelService=ut(qe),this.jstDialogService=ut(Nt)}onRemoveSourceData(i){this.jstDialogService.showConfirm("\u0412\u044B \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u043E\u0442 \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u0430\u043D\u043D\u044B\u0445?","\u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u0430\u043D\u043D\u044B\u0445").subscribe(r=>{r&&this.sourceDataStore.removeDataSource(Number(i.id))})}onImportSourceData(){It.uploadJson().subscribe(i=>{this.sourceDataStore.importDataSource(i)})}onExportSourceData(i){let r=JSON.parse(JSON.stringify(i));delete r.id,It.downloadJson(r,`DataSource - ${i.name}.json`)}onEditSourceData(i){this.editSourceData(JSON.parse(JSON.stringify(i)))}onAddSourceData(){this.editSourceData({id:null,type:Fr.List,name:"\u041D\u043E\u0432\u044B\u0439 \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A",source:[]})}editSourceData(i){this.slidePanelService.showPanel$(Br,{dataSource:i},{disabledClose:!1}).subscribe(r=>{r&&this.sourceDataStore.saveDataSource(r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["source-data-list"]],decls:22,vars:4,consts:[["appearance","outlined",1,"flex-auto","with-header-line"],[1,"with-buttons"],["mat-button","","color","primary",3,"click"],[1,"scroll-container"],[1,"scroll","flex-col"],[1,"card-list-item"],[1,"empty-message"],[1,"loading-container"],[1,"card-list-item",3,"dblclick"],[1,"card-list-item-name"],["mat-icon-button","","color","primary","title","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u0430\u043D\u043D\u044B\u0445",3,"click"],["mat-icon-button","","color","primary","title","\u0421\u043A\u0430\u0447\u0430\u0442\u044C JSON \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445",3,"click"],["mat-icon-button","","color","accent","title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u0430\u043D\u043D\u044B\u0445",3,"click"],[1,"loading-container__message"]],template:function(r,n){r&1&&(Q(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),tt(3,"\u0428\u0430\u0431\u043B\u043E\u043D\u044B \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u043E\u0432 \u0434\u0430\u043D\u043D\u044B\u0445"),J(),Q(4,"button",2),dt("click",function(){return n.onAddSourceData()}),Q(5,"mat-icon"),tt(6,"add"),J(),Q(7,"span"),tt(8,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"),J()(),Q(9,"button",2),dt("click",function(){return n.onImportSourceData()}),Q(10,"mat-icon"),tt(11,"upload"),J(),Q(12,"span"),tt(13,"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C"),J()()(),Q(14,"mat-card-content")(15,"div",3)(16,"div",4),Yt(17,ya,15,3,"div",5,_a,!1,va,2,0,"div",6),te(20,"async"),J()(),Ht(21,ba,4,0,"div",7),J()()),r&2&&(_t(17),Xt(ee(20,2,n.sourceDataStore.sourcesList$)),_t(4),Jt(n.sourceDataStore.isLoadingState()?21:-1))},dependencies:[ie,jt,Lt,Vt,Ut,re,se,ne,ce,ae,le,ue,oe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:10px}"],changeDetection:0});let s=t;return s})();var Jn=(()=>{let t=class t{constructor(){this.titleService=ut(yr),this.currentFormStore=ut(Ke),this.jstDialogService=ut(Nt),this.importDemoService=ut(Wn),this.titleService.setTitle(Le)}ngOnInit(){this.currentFormStore.setEmptyForm()}onImportDemo(){return Me(this,null,function*(){this.jstDialogService.showWait();try{yield this.importDemoService.import(),this.jstDialogService.showToastSuccess("\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043F\u0440\u043E\u0448\u043B\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E"),window.location.reload()}catch(i){this.jstDialogService.showToastError(i.message)}finally{this.jstDialogService.hideWait()}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["core-home-page"]],decls:18,vars:0,consts:[[1,"info-container"],[1,"flex-auto","flex-row-align-center"],["color","warning"],[1,"ml-10"],["matButton","","color","warn",3,"click"],[1,"flex-auto"],[1,"flex-col","flex-auto"],[1,"flex-row","flex-auto"],[1,"flex-col","w-50-percent"]],template:function(r,n){r&1&&(yt(0,"common-header"),Q(1,"div",0)(2,"div",1)(3,"mat-icon",2),tt(4,"report_problem"),J(),Q(5,"span",3),tt(6," \u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u044E\u0442\u0441\u044F \u0432 \u043B\u043E\u043A\u0430\u043B\u044C\u043D\u043E\u0439 \u0411\u0414. \u0414\u043B\u044F \u043F\u0435\u0440\u0435\u043D\u043E\u0441\u0430 \u043C\u0435\u0436\u0434\u0443 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F\u043C\u0438 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u044D\u043A\u0441\u043F\u043E\u0440\u0442/\u0438\u043C\u043F\u043E\u0440\u0442 "),J()(),Q(7,"button",4),dt("click",function(){return n.onImportDemo()}),Q(8,"mat-icon"),tt(9,"star"),J(),tt(10," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0414\u0415\u041C\u041E \u0434\u0430\u043D\u043D\u044B\u0435 "),J()(),yt(11,"forms-list",5),Q(12,"div",6)(13,"div",7)(14,"div",8),yt(15,"source-data-list",5),J(),Q(16,"div",8),yt(17,"dto-list",5),J()()())},dependencies:[jt,Lt,Vt,Ut,Ir,Gn,Hn,Qn],styles:["[_nghost-%COMP%]{flex:auto;display:flex;flex-direction:column;background-color:#c6c6c6}.info-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin:10px 10px 0;padding:10px;border-radius:4px;box-shadow:#0003 0 0,#00000024 0 0,#0000001f 0 0;background-color:#fff}.w-50-percent[_ngcontent-%COMP%]{width:50%}"],changeDetection:0});let s=t;return s})();var Yn=[{path:"",component:Jn},{path:`${je}/:id`,loadComponent:()=>import("./chunk-CRXN3HFO.js").then(s=>s.FEHomePageComponent),canDeactivate:[$i]},{path:`${Ue}/:id`,loadComponent:()=>import("./chunk-D5TKF7JG.js").then(s=>s.FVHomePageComponent),canDeactivate:[$i]},{path:"**",component:Dr}];var Xn={providers:[er([Ln]),wr(Yn,Er(Sr)),ke(de),ke(he)]};gr(jr,Xn).catch(s=>console.error(s));
